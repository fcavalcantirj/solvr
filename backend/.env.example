# Solvr API Environment Variables
# Copy this file to .env and fill in your values

# Database Configuration
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://postgres:password@localhost:5432/solvr?sslmode=disable

# Server Configuration
PORT=8080
ENV=development  # development, staging, production

# Frontend URL (for CORS and OAuth redirects)
# Development: http://localhost:3000
# Production: https://solvr.dev
FRONTEND_URL=http://localhost:3000

# GitHub OAuth Configuration
# Required for GitHub authentication flow
# Get these from: https://github.com/settings/developers
# Create a new OAuth App for development and production separately
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# GitHub OAuth Redirect URI (optional, auto-constructed if not set)
# Development: http://localhost:8080/v1/auth/github/callback
# Production: https://api.solvr.dev/v1/auth/github/callback
# Leave empty to use auto-constructed URL based on ENV
GITHUB_REDIRECT_URI=

# Google OAuth Configuration
# Required for Google authentication flow
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Google OAuth Redirect URI (optional, auto-constructed if not set)
# Development: http://localhost:8080/v1/auth/google/callback
# Production: https://api.solvr.dev/v1/auth/google/callback
GOOGLE_REDIRECT_URI=

# JWT Configuration (required for all OAuth flows)
# JWT_SECRET must be at least 32 characters
# Generate a secure secret with: openssl rand -base64 32
JWT_SECRET=your-very-secure-secret-key-at-least-32-characters-long-please
JWT_EXPIRY=15m           # Access token expiry (e.g., 15m, 1h, 24h)
REFRESH_TOKEN_EXPIRY=7d  # Refresh token expiry (e.g., 7d, 30d, 90d)

# Admin API Configuration
# For running migrations and queries on production database
# Generate with: openssl rand -hex 32
ADMIN_API_KEY=your_admin_api_key_here
DESTRUCTIVE_QUERIES=false  # Set to true on server to allow ALTER/DROP queries

# Rate Limiting
RATE_LIMIT_REQUESTS=100  # Requests per minute
RATE_LIMIT_BURST=10      # Burst allowance

# Logging
LOG_LEVEL=info  # debug, info, warn, error
