[
  {"category": "golden-rules", "description": "PRIORITY 0: TDD workflow - Write tests BEFORE implementation", "steps": ["Before implementing any feature, create test file first", "Write failing test that describes expected behavior (RED)", "Run test to confirm it fails", "Only then write implementation code (GREEN)", "Refactor while keeping tests green"], "passes": true},
  {"category": "golden-rules", "description": "PRIORITY 0: No implementation without tests", "steps": ["For each handler/service file, verify corresponding _test.go exists", "For each React component, verify corresponding .test.tsx exists", "If test file missing, create it before implementation", "Never mark task complete without passing tests"], "passes": true},
  {"category": "golden-rules", "description": "PRIORITY 0: File size limit - 800 lines max", "steps": ["No single code file should exceed 800 lines", "If file grows beyond limit, split into modules", "Check with: wc -l file.go", "Documentation files (.md) are exempt"], "passes": true},
  {"category": "golden-rules", "description": "PRIORITY 0: API is smart, client is dumb", "steps": ["100% of business logic lives in the API", "Frontend ONLY calls endpoints and displays data", "Frontend NEVER validates, transforms, or calculates", "All domain logic server-side"], "passes": true},

  {"category": "infrastructure", "description": "Create root project structure", "steps": ["Create backend/ directory", "Create frontend/ directory", "Create specs/ directory", "Verify directories exist with ls"], "passes": true},
  {"category": "infrastructure", "description": "Create README.md", "steps": ["Create README.md at project root", "Add project overview section", "Add tech stack list (Go, Next.js, PostgreSQL)", "Add setup instructions placeholder"], "passes": true},
  {"category": "infrastructure", "description": "Initialize Go module", "steps": ["Run go mod init github.com/fcavalcantirj/solvr in backend/", "Verify go.mod exists", "Verify module name is correct"], "passes": true},
  {"category": "infrastructure", "description": "Create backend cmd directory", "steps": ["Create backend/cmd/api/ directory", "Verify path exists"], "passes": true},
  {"category": "infrastructure", "description": "Create backend internal directories", "steps": ["Create backend/internal/api/", "Create backend/internal/db/", "Create backend/internal/models/", "Create backend/internal/services/", "Create backend/internal/config/", "Create backend/internal/auth/"], "passes": true},
  {"category": "infrastructure", "description": "Create main.go entry point", "steps": ["Create backend/cmd/api/main.go", "Add package main declaration", "Add http server setup with graceful shutdown", "Verify file under 100 lines", "Verify go build ./... succeeds"], "passes": true},
  {"category": "infrastructure", "description": "Initialize Next.js frontend", "steps": ["Run npx create-next-app@latest frontend/ with TypeScript", "Select App Router", "Select Tailwind CSS", "Verify frontend/package.json exists"], "passes": true},
  {"category": "infrastructure", "description": "Configure TypeScript strict mode", "steps": ["Open frontend/tsconfig.json", "Set strict: true", "Run npm run typecheck", "Verify no type errors"], "passes": true},
  {"category": "infrastructure", "description": "Configure Tailwind CSS", "steps": ["Verify frontend/tailwind.config.ts exists", "Verify @tailwind directives in globals.css", "Create test component with Tailwind classes", "Verify styles render correctly"], "passes": true},
  {"category": "infrastructure", "description": "Create docker-compose.yml", "steps": ["Create docker-compose.yml at project root", "Add version: '3.8'", "Add services: section"], "passes": true},
  {"category": "infrastructure", "description": "Add PostgreSQL service to docker-compose", "steps": ["Add postgres service with image: postgres:16", "Add volume postgres_data:/var/lib/postgresql/data", "Add ports: 5432:5432"], "passes": true},
  {"category": "infrastructure", "description": "Add PostgreSQL environment vars", "steps": ["Add POSTGRES_USER: solvr", "Add POSTGRES_PASSWORD: solvr_dev", "Add POSTGRES_DB: solvr"], "passes": true},
  {"category": "infrastructure", "description": "Add PostgreSQL healthcheck", "steps": ["Add healthcheck with pg_isready command", "Set interval: 10s", "Set timeout: 5s", "Set retries: 5"], "passes": true},
  {"category": "infrastructure", "description": "Verify docker compose up works", "steps": ["Run docker compose up -d", "Verify postgres container starts", "Verify healthcheck passes", "Test connection with psql or pgcli"], "passes": false},
  {"category": "infrastructure", "description": "Install golang-migrate CLI", "steps": ["Install migrate CLI (brew install golang-migrate or go install)", "Run migrate --version", "Verify version output"], "passes": false},
  {"category": "infrastructure", "description": "Create migrations directory", "steps": ["Create backend/migrations/ directory", "Verify directory exists"], "passes": true},
  {"category": "infrastructure", "description": "Create .env.example", "steps": ["Create .env.example at project root", "Document DATABASE_URL=postgres://solvr:solvr_dev@localhost:5432/solvr?sslmode=disable", "Document JWT_SECRET=your-secret-key-min-32-chars", "Document APP_ENV=development"], "passes": true},
  {"category": "infrastructure", "description": "Document OAuth env vars in .env.example", "steps": ["Add GITHUB_CLIENT_ID placeholder", "Add GITHUB_CLIENT_SECRET placeholder", "Add GOOGLE_CLIENT_ID placeholder", "Add GOOGLE_CLIENT_SECRET placeholder"], "passes": true},
  {"category": "infrastructure", "description": "Create env config parser", "steps": ["Create backend/internal/config/env.go", "Define Config struct with all fields", "Implement Load() function reading os.Getenv", "Return error for missing required vars"], "passes": true},
  {"category": "infrastructure", "description": "Env parser validation tests", "steps": ["Create backend/internal/config/env_test.go", "Test Load() with all vars set succeeds", "Test Load() with missing DATABASE_URL fails", "Test Load() with missing JWT_SECRET fails", "Test default values applied correctly"], "passes": true},
  {"category": "infrastructure", "description": "Create GitHub Actions workflow file", "steps": ["Create .github/workflows/ci.yml", "Add name: CI", "Add on: push, pull_request triggers"], "passes": true},
  {"category": "infrastructure", "description": "CI workflow: Go test job", "steps": ["Add go-test job with ubuntu-latest", "Add steps: checkout, setup-go", "Add step: go test ./...", "Verify job fails on test failure"], "passes": true},
  {"category": "infrastructure", "description": "CI workflow: Go lint job", "steps": ["Add go-lint job", "Add golangci-lint-action step", "Verify job fails on lint errors"], "passes": true},
  {"category": "infrastructure", "description": "CI workflow: Frontend test job", "steps": ["Add frontend-test job", "Add npm ci step in frontend/", "Add npm test step", "Verify job fails on test failure"], "passes": true},
  {"category": "infrastructure", "description": "CI workflow: Frontend lint job", "steps": ["Add frontend-lint job", "Add npm run lint step", "Verify job fails on lint errors"], "passes": true},
  {"category": "infrastructure", "description": "Configure golangci-lint", "steps": ["Create backend/.golangci.yml", "Enable recommended linters", "Run golangci-lint run in backend/", "Verify passes with no errors"], "passes": true},
  {"category": "infrastructure", "description": "Configure ESLint for frontend", "steps": ["Verify eslint.config.mjs exists in frontend/", "Configure TypeScript ESLint rules", "Run npm run lint", "Verify passes with no errors"], "passes": true},
  {"category": "infrastructure", "description": "Configure Prettier for frontend", "steps": ["Create frontend/.prettierrc", "Set semi: true, singleQuote: true", "Run npm run format", "Verify formatting applied"], "passes": true},
  {"category": "infrastructure", "description": "Create .gitignore", "steps": ["Create .gitignore at project root", "Add node_modules/", "Add .env", "Add *.exe, *.out binaries", "Add .next/", "Add coverage/"], "passes": true},

  {"category": "database", "description": "Create users migration file", "steps": ["Create backend/migrations/000001_create_users.up.sql", "Create backend/migrations/000001_create_users.down.sql with DROP TABLE users"], "passes": true},
  {"category": "database", "description": "Users table: id field", "steps": ["Add id UUID PRIMARY KEY DEFAULT gen_random_uuid()"], "passes": true},
  {"category": "database", "description": "Users table: username field", "steps": ["Add username VARCHAR(30) UNIQUE NOT NULL"], "passes": true},
  {"category": "database", "description": "Users table: display_name field", "steps": ["Add display_name VARCHAR(50) NOT NULL"], "passes": true},
  {"category": "database", "description": "Users table: email field", "steps": ["Add email VARCHAR(255) UNIQUE NOT NULL"], "passes": true},
  {"category": "database", "description": "Users table: auth fields", "steps": ["Add auth_provider VARCHAR(20) NOT NULL", "Add auth_provider_id VARCHAR(255) NOT NULL"], "passes": true},
  {"category": "database", "description": "Users table: profile fields", "steps": ["Add avatar_url TEXT", "Add bio VARCHAR(500)"], "passes": true},
  {"category": "database", "description": "Users table: timestamp fields", "steps": ["Add created_at TIMESTAMPTZ DEFAULT NOW()", "Add updated_at TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Users table: role field", "steps": ["Add role VARCHAR(20) DEFAULT 'user'"], "passes": true},
  {"category": "database", "description": "Users table: indexes", "steps": ["Add INDEX on (auth_provider, auth_provider_id)", "Add INDEX on username", "Add INDEX on email"], "passes": true},
  {"category": "database", "description": "Users migration executes successfully", "steps": ["Run migrate up for 000001", "Verify users table exists with \\d users", "Run migrate down", "Verify table dropped"], "passes": false},

  {"category": "database", "description": "Create agents migration file", "steps": ["Create backend/migrations/000002_create_agents.up.sql", "Create backend/migrations/000002_create_agents.down.sql"], "passes": true},
  {"category": "database", "description": "Agents table: id field", "steps": ["Add id VARCHAR(50) PRIMARY KEY"], "passes": true},
  {"category": "database", "description": "Agents table: display_name field", "steps": ["Add display_name VARCHAR(50) NOT NULL"], "passes": true},
  {"category": "database", "description": "Agents table: human_id FK", "steps": ["Add human_id UUID REFERENCES users(id)"], "passes": true},
  {"category": "database", "description": "Agents table: profile fields", "steps": ["Add bio VARCHAR(500)", "Add specialties TEXT[]", "Add avatar_url TEXT"], "passes": true},
  {"category": "database", "description": "Agents table: auth fields", "steps": ["Add api_key_hash VARCHAR(255)", "Add moltbook_id VARCHAR(255)"], "passes": true},
  {"category": "database", "description": "Agents table: timestamps", "steps": ["Add created_at TIMESTAMPTZ DEFAULT NOW()", "Add updated_at TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Agents table: indexes", "steps": ["Add INDEX on human_id", "Add INDEX on moltbook_id WHERE NOT NULL"], "passes": true},
  {"category": "database", "description": "Agents migration executes successfully", "steps": ["Run migrate up for 000002", "Verify agents table exists"], "passes": false},

  {"category": "database", "description": "Create posts migration file", "steps": ["Create backend/migrations/000003_create_posts.up.sql", "Create backend/migrations/000003_create_posts.down.sql"], "passes": true},
  {"category": "database", "description": "Posts table: id and type fields", "steps": ["Add id UUID PRIMARY KEY DEFAULT gen_random_uuid()", "Add type VARCHAR(20) NOT NULL with CHECK (type IN ('problem', 'question', 'idea'))"], "passes": true},
  {"category": "database", "description": "Posts table: content fields", "steps": ["Add title VARCHAR(200) NOT NULL", "Add description TEXT NOT NULL", "Add tags TEXT[]"], "passes": true},
  {"category": "database", "description": "Posts table: author fields", "steps": ["Add posted_by_type VARCHAR(10) NOT NULL CHECK IN ('human', 'agent')", "Add posted_by_id VARCHAR(255) NOT NULL"], "passes": true},
  {"category": "database", "description": "Posts table: status field", "steps": ["Add status VARCHAR(20) NOT NULL DEFAULT 'draft'", "Add CHECK constraint for valid statuses"], "passes": true},
  {"category": "database", "description": "Posts table: vote fields", "steps": ["Add upvotes INT DEFAULT 0", "Add downvotes INT DEFAULT 0"], "passes": true},
  {"category": "database", "description": "Posts table: problem-specific fields", "steps": ["Add success_criteria TEXT[]", "Add weight INT with CHECK (weight >= 1 AND weight <= 5)"], "passes": true},
  {"category": "database", "description": "Posts table: question-specific fields", "steps": ["Add accepted_answer_id UUID"], "passes": true},
  {"category": "database", "description": "Posts table: idea-specific fields", "steps": ["Add evolved_into UUID[]"], "passes": true},
  {"category": "database", "description": "Posts table: timestamps", "steps": ["Add created_at TIMESTAMPTZ DEFAULT NOW()", "Add updated_at TIMESTAMPTZ DEFAULT NOW()", "Add deleted_at TIMESTAMPTZ for soft delete"], "passes": true},
  {"category": "database", "description": "Posts table: full-text search index", "steps": ["Add GIN index on to_tsvector('english', title || ' ' || description)"], "passes": true},
  {"category": "database", "description": "Posts table: lookup indexes", "steps": ["Add INDEX on type", "Add INDEX on status", "Add GIN INDEX on tags", "Add INDEX on created_at DESC", "Add INDEX on (posted_by_type, posted_by_id)"], "passes": true},
  {"category": "database", "description": "Posts migration executes successfully", "steps": ["Run migrate up for 000003", "Verify posts table exists"], "passes": false},

  {"category": "database", "description": "Create approaches migration file", "steps": ["Create backend/migrations/000004_create_approaches.up.sql", "Create backend/migrations/000004_create_approaches.down.sql"], "passes": true},
  {"category": "database", "description": "Approaches table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add problem_id UUID REFERENCES posts(id)", "Add author_type, author_id", "Add angle VARCHAR(500) NOT NULL", "Add method VARCHAR(500)", "Add assumptions TEXT[], differs_from UUID[]", "Add status VARCHAR(20) DEFAULT 'starting'", "Add outcome TEXT, solution TEXT", "Add timestamps and deleted_at"], "passes": true},
  {"category": "database", "description": "Progress_notes table in approaches migration", "steps": ["Add progress_notes table with id, approach_id FK, content TEXT, created_at", "Add INDEX on approach_id"], "passes": true},
  {"category": "database", "description": "Approaches migration executes successfully", "steps": ["Run migrate up for 000004", "Verify approaches table exists", "Verify progress_notes table exists"], "passes": false},

  {"category": "database", "description": "Create answers migration file", "steps": ["Create backend/migrations/000005_create_answers.up.sql", "Create backend/migrations/000005_create_answers.down.sql"], "passes": true},
  {"category": "database", "description": "Answers table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add question_id UUID REFERENCES posts(id)", "Add author_type, author_id", "Add content TEXT NOT NULL", "Add is_accepted BOOLEAN DEFAULT FALSE", "Add upvotes, downvotes", "Add created_at, deleted_at"], "passes": true},
  {"category": "database", "description": "Answers migration executes successfully", "steps": ["Run migrate up for 000005", "Verify answers table exists"], "passes": false},

  {"category": "database", "description": "Create responses migration file", "steps": ["Create backend/migrations/000006_create_responses.up.sql", "Create backend/migrations/000006_create_responses.down.sql"], "passes": true},
  {"category": "database", "description": "Responses table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add idea_id UUID REFERENCES posts(id)", "Add author_type, author_id", "Add content TEXT NOT NULL", "Add response_type VARCHAR(20) CHECK IN ('build_on', 'question', 'caution', 'support')", "Add upvotes, downvotes, created_at"], "passes": true},
  {"category": "database", "description": "Responses migration executes successfully", "steps": ["Run migrate up for 000006", "Verify responses table exists"], "passes": false},

  {"category": "database", "description": "Create comments migration file", "steps": ["Create backend/migrations/000007_create_comments.up.sql", "Create backend/migrations/000007_create_comments.down.sql"], "passes": true},
  {"category": "database", "description": "Comments table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add target_type VARCHAR(20) NOT NULL", "Add target_id UUID NOT NULL", "Add author_type, author_id", "Add content TEXT NOT NULL", "Add created_at, deleted_at", "Add INDEX on (target_type, target_id)"], "passes": true},
  {"category": "database", "description": "Comments migration executes successfully", "steps": ["Run migrate up for 000007", "Verify comments table exists"], "passes": false},

  {"category": "database", "description": "Create votes migration file", "steps": ["Create backend/migrations/000008_create_votes.up.sql", "Create backend/migrations/000008_create_votes.down.sql"], "passes": true},
  {"category": "database", "description": "Votes table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add target_type, target_id", "Add voter_type, voter_id", "Add direction VARCHAR(4) CHECK IN ('up', 'down')", "Add confirmed BOOLEAN DEFAULT FALSE", "Add created_at", "Add UNIQUE constraint on (target_type, target_id, voter_type, voter_id)"], "passes": true},
  {"category": "database", "description": "Votes migration executes successfully", "steps": ["Run migrate up for 000008", "Verify votes table exists"], "passes": false},

  {"category": "database", "description": "Create notifications migration file", "steps": ["Create backend/migrations/000009_create_notifications.up.sql", "Create backend/migrations/000009_create_notifications.down.sql"], "passes": true},
  {"category": "database", "description": "Notifications table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add user_id UUID REFERENCES users(id) nullable", "Add agent_id VARCHAR(50) REFERENCES agents(id) nullable", "Add type VARCHAR(50) NOT NULL", "Add title VARCHAR(200), body TEXT, link TEXT", "Add read_at TIMESTAMPTZ, created_at"], "passes": true},
  {"category": "database", "description": "Notifications migration executes successfully", "steps": ["Run migrate up for 000009", "Verify notifications table exists"], "passes": false},

  {"category": "database", "description": "Create webhooks migration file", "steps": ["Create backend/migrations/000010_create_webhooks.up.sql", "Create backend/migrations/000010_create_webhooks.down.sql"], "passes": true},
  {"category": "database", "description": "Webhooks table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add agent_id VARCHAR(50) REFERENCES agents(id)", "Add url TEXT NOT NULL", "Add events TEXT[] NOT NULL", "Add secret_hash VARCHAR(255)", "Add status VARCHAR(20) DEFAULT 'active'", "Add created_at, updated_at"], "passes": true},
  {"category": "database", "description": "Webhooks migration executes successfully", "steps": ["Run migrate up for 000010", "Verify webhooks table exists"], "passes": false},

  {"category": "database", "description": "Create rate_limits migration file", "steps": ["Create backend/migrations/000011_create_rate_limits.up.sql", "Create backend/migrations/000011_create_rate_limits.down.sql"], "passes": true},
  {"category": "database", "description": "Rate_limits table: all fields", "steps": ["Add key VARCHAR(255) PRIMARY KEY", "Add count INT DEFAULT 0", "Add window_start TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Rate_limits migration executes successfully", "steps": ["Run migrate up for 000011", "Verify rate_limits table exists"], "passes": false},

  {"category": "database", "description": "Create audit_log migration file", "steps": ["Create backend/migrations/000012_create_audit_log.up.sql", "Create backend/migrations/000012_create_audit_log.down.sql"], "passes": true},
  {"category": "database", "description": "Audit_log table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add admin_id UUID REFERENCES users(id)", "Add action VARCHAR(50) NOT NULL", "Add target_type VARCHAR(50)", "Add target_id UUID", "Add details JSONB", "Add created_at TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Audit_log migration executes successfully", "steps": ["Run migrate up for 000012", "Verify audit_log table exists"], "passes": false},

  {"category": "database", "description": "Create flags migration file", "steps": ["Create backend/migrations/000013_create_flags.up.sql", "Create backend/migrations/000013_create_flags.down.sql"], "passes": true},
  {"category": "database", "description": "Flags table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add target_type VARCHAR(50) NOT NULL", "Add target_id UUID NOT NULL", "Add reporter_type VARCHAR(10) NOT NULL", "Add reporter_id VARCHAR(255) NOT NULL", "Add reason VARCHAR(50) NOT NULL", "Add status VARCHAR(20) DEFAULT 'pending'", "Add created_at TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Flags migration executes successfully", "steps": ["Run migrate up for 000013", "Verify flags table exists"], "passes": false},

  {"category": "database", "description": "Create refresh_tokens migration file", "steps": ["Create backend/migrations/000014_create_refresh_tokens.up.sql", "Create backend/migrations/000014_create_refresh_tokens.down.sql"], "passes": true},
  {"category": "database", "description": "Refresh_tokens table: all fields", "steps": ["Add id UUID PRIMARY KEY", "Add user_id UUID REFERENCES users(id) NOT NULL", "Add token_hash VARCHAR(255) NOT NULL", "Add expires_at TIMESTAMPTZ NOT NULL", "Add created_at TIMESTAMPTZ DEFAULT NOW()"], "passes": true},
  {"category": "database", "description": "Refresh_tokens migration executes successfully", "steps": ["Run migrate up for 000014", "Verify refresh_tokens table exists"], "passes": false},

  {"category": "database", "description": "All migrations run together", "steps": ["Run migrate up from clean database", "Verify all 14 tables exist", "Query each table structure"], "passes": false},
  {"category": "database", "description": "All migrations rollback cleanly", "steps": ["Run migrate down to version 0", "Verify all tables dropped", "Re-run migrate up succeeds"], "passes": false},

  {"category": "database", "description": "Create database connection pool", "steps": ["Create backend/internal/db/pool.go", "Import pgx/v5/pgxpool", "Define Pool struct wrapping *pgxpool.Pool", "Implement NewPool(ctx, databaseURL) (*Pool, error)"], "passes": true},
  {"category": "database", "description": "Connection pool: configuration", "steps": ["Set MaxConns to 10", "Set MinConns to 2", "Set MaxConnIdleTime to 30s", "Set HealthCheckPeriod to 30s"], "passes": true},
  {"category": "database", "description": "Connection pool: Query helper", "steps": ["Implement Query(ctx, sql, args) (pgx.Rows, error)", "Implement QueryRow(ctx, sql, args) pgx.Row", "Add error wrapping with context"], "passes": true},
  {"category": "database", "description": "Connection pool: Exec helper", "steps": ["Implement Exec(ctx, sql, args) (pgconn.CommandTag, error)", "Return affected rows count"], "passes": true},
  {"category": "database", "description": "Connection pool: transaction support", "steps": ["Implement BeginTx(ctx) (pgx.Tx, error)", "Expose Commit and Rollback via transaction", "Add WithTx helper for automatic rollback on error"], "passes": true},
  {"category": "database", "description": "Connection pool: graceful shutdown", "steps": ["Implement Close() method", "Call pool.Close() on context cancellation", "Log shutdown message"], "passes": true},
  {"category": "database", "description": "Connection pool: unit test - connection", "steps": ["Create backend/internal/db/pool_test.go", "Test NewPool connects successfully", "Test NewPool fails with invalid URL"], "passes": true},
  {"category": "database", "description": "Connection pool: unit test - queries", "steps": ["Test Query returns rows", "Test QueryRow returns single row", "Test Exec returns affected count"], "passes": true},
  {"category": "database", "description": "Connection pool: unit test - transactions", "steps": ["Test BeginTx starts transaction", "Test Commit persists changes", "Test Rollback reverts changes"], "passes": true},

  {"category": "api-core", "description": "Install Chi router", "steps": ["Run go get github.com/go-chi/chi/v5 in backend/", "Verify chi in go.mod"], "passes": true},
  {"category": "api-core", "description": "Create router file", "steps": ["Create backend/internal/api/router.go", "Define NewRouter() *chi.Mux function", "Return configured chi.Mux"], "passes": true},
  {"category": "api-core", "description": "Add JSON middleware", "steps": ["Add middleware.SetHeader('Content-Type', 'application/json')", "Add chi.URLParam for route params"], "passes": true},
  {"category": "api-core", "description": "Add CORS middleware", "steps": ["Import github.com/go-chi/cors", "Configure AllowedOrigins: localhost:3000", "Set AllowCredentials: true", "Set AllowedMethods: GET, POST, PATCH, DELETE"], "passes": true},
  {"category": "api-core", "description": "Add request logging middleware", "steps": ["Create backend/internal/api/middleware/logging.go", "Log method, path, status code, duration", "Use JSON format for structured logs"], "passes": true},
  {"category": "api-core", "description": "Add security headers middleware", "steps": ["Create backend/internal/api/middleware/security.go", "Set X-Content-Type-Options: nosniff", "Set X-Frame-Options: DENY", "Set Strict-Transport-Security header"], "passes": true},
  {"category": "api-core", "description": "Add request ID middleware", "steps": ["Create backend/internal/api/middleware/requestid.go", "Generate UUID for each request", "Add to context and X-Request-ID header"], "passes": true},
  {"category": "api-core", "description": "Implement GET /health endpoint", "steps": ["Create backend/internal/api/handlers/health.go", "Return {status: 'ok', version: '0.1.0', timestamp: now}", "Return HTTP 200"], "passes": true},
  {"category": "api-core", "description": "Implement GET /health/ready endpoint", "steps": ["Ping database connection", "Return HTTP 200 if healthy", "Return HTTP 503 if database down"], "passes": true},
  {"category": "api-core", "description": "Implement GET /health/live endpoint", "steps": ["Always return HTTP 200", "Return {status: 'alive'}"], "passes": true},
  {"category": "api-core", "description": "Create error response helper", "steps": ["Create backend/internal/api/response/error.go", "Define WriteError(w, code, message) function", "Return JSON {error: {code, message}}"], "passes": true},
  {"category": "api-core", "description": "Create success response helper", "steps": ["Create backend/internal/api/response/success.go", "Define WriteJSON(w, status, data) function", "Return JSON {data: data}"], "passes": true},
  {"category": "api-core", "description": "Create paginated response helper", "steps": ["Create backend/internal/api/response/paginated.go", "Define WritePaginated(w, data, total, page, perPage)", "Include has_more boolean"], "passes": true},
  {"category": "api-core", "description": "Health endpoint test: /health", "steps": ["Create backend/internal/api/handlers/health_test.go", "Test GET /health returns 200", "Test response body has status: ok"], "passes": true},
  {"category": "api-core", "description": "Health endpoint test: /health/ready", "steps": ["Test returns 200 when DB up", "Test returns 503 when DB down"], "passes": true},
  {"category": "api-core", "description": "Health endpoint test: /health/live", "steps": ["Test always returns 200", "Test response body has status: alive"], "passes": true},
  {"category": "api-core", "description": "Wire router in main.go", "steps": ["Import internal/api", "Call api.NewRouter()", "Use router as http.Handler", "Verify go build succeeds"], "passes": true},

  {"category": "api-auth", "description": "Create auth package structure", "steps": ["Create backend/internal/auth/jwt.go", "Create backend/internal/auth/apikey.go", "Create backend/internal/auth/middleware.go"], "passes": true},
  {"category": "api-auth", "description": "Implement JWT generation", "steps": ["Install github.com/golang-jwt/jwt/v5", "Implement GenerateJWT(userID, email, role string) (string, error)", "Set expiry to 15 minutes", "Sign with JWT_SECRET from config"], "passes": true},
  {"category": "api-auth", "description": "Implement JWT validation", "steps": ["Implement ValidateJWT(tokenString string) (*Claims, error)", "Parse and verify signature", "Check expiry", "Return Claims struct with UserID, Email, Role"], "passes": true},
  {"category": "api-auth", "description": "Implement JWT middleware", "steps": ["Extract token from Authorization: Bearer header", "Call ValidateJWT", "Add claims to request context", "Call next handler if valid"], "passes": true},
  {"category": "api-auth", "description": "JWT middleware: missing token returns 401", "steps": ["Check Authorization header exists", "Return 401 UNAUTHORIZED if missing"], "passes": true},
  {"category": "api-auth", "description": "JWT middleware: invalid token returns 401", "steps": ["Catch signature verification errors", "Return 401 INVALID_TOKEN"], "passes": true},
  {"category": "api-auth", "description": "JWT middleware: expired token returns 401", "steps": ["Catch expiry errors", "Return 401 TOKEN_EXPIRED"], "passes": true},
  {"category": "api-auth", "description": "Implement refresh token generation", "steps": ["Implement GenerateRefreshToken() string", "Generate 64-byte random string", "Base64 encode result"], "passes": true},
  {"category": "api-auth", "description": "Implement refresh token storage", "steps": ["Create backend/internal/auth/refresh.go", "Implement StoreRefreshToken(userID, tokenHash, expiresAt)", "Hash token with bcrypt before storing"], "passes": true},
  {"category": "api-auth", "description": "Implement API key generation", "steps": ["Implement GenerateAPIKey() string", "Generate 32-byte random string", "Prefix with 'solvr_'", "Return solvr_xxxx format"], "passes": true},
  {"category": "api-auth", "description": "Implement API key hashing", "steps": ["Implement HashAPIKey(key string) (string, error)", "Use bcrypt with cost 10", "Return hashed string"], "passes": true},
  {"category": "api-auth", "description": "Implement API key validation", "steps": ["Implement ValidateAPIKey(key string) (*Agent, error)", "Extract hash, query agents table", "Compare with bcrypt.CompareHashAndPassword", "Return agent if match"], "passes": true},
  {"category": "api-auth", "description": "Implement API key middleware", "steps": ["Extract token from Authorization: Bearer header", "Check if starts with 'solvr_'", "Call ValidateAPIKey", "Add agent to context"], "passes": true},
  {"category": "api-auth", "description": "API key middleware: invalid key returns 401", "steps": ["Return 401 INVALID_API_KEY if not found"], "passes": true},
  {"category": "api-auth", "description": "Implement combined auth middleware", "steps": ["Try JWT first", "If JWT fails, try API key", "Return 401 if both fail"], "passes": true},
  {"category": "api-auth", "description": "Auth unit test: JWT generation", "steps": ["Create backend/internal/auth/jwt_test.go", "Test GenerateJWT returns valid token", "Test token contains correct claims"], "passes": true},
  {"category": "api-auth", "description": "Auth unit test: JWT validation", "steps": ["Test ValidateJWT with valid token", "Test ValidateJWT with expired token fails", "Test ValidateJWT with tampered token fails"], "passes": true},
  {"category": "api-auth", "description": "Auth unit test: API key", "steps": ["Create backend/internal/auth/apikey_test.go", "Test GenerateAPIKey format", "Test HashAPIKey and validation"], "passes": true},
  {"category": "api-auth", "description": "Auth unit test: middleware", "steps": ["Create backend/internal/auth/middleware_test.go", "Test JWT middleware with valid token", "Test API key middleware with valid key", "Test combined middleware"], "passes": true},

  {"category": "api-auth", "description": "Create OAuth handlers file", "steps": ["Create backend/internal/api/handlers/oauth.go", "Import oauth2 library"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: redirect endpoint", "steps": ["Implement GET /v1/auth/github handler", "Build GitHub authorize URL", "Include client_id, redirect_uri, scope=user:email", "HTTP redirect to GitHub"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: callback endpoint", "steps": ["Implement GET /v1/auth/github/callback handler", "Extract code from query params", "Return 400 if code missing"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: exchange code for token", "steps": ["POST to GitHub token endpoint", "Include client_id, client_secret, code", "Parse access_token from response"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: fetch user info", "steps": ["GET https://api.github.com/user", "Include Authorization: Bearer token", "Parse id, login, email, avatar_url"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: create or link user", "steps": ["Query users by github provider ID", "If not found, create new user", "If email matches existing, link accounts"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: return tokens", "steps": ["Generate JWT for user", "Generate refresh token", "Store refresh token", "Return {access_token, refresh_token, user}"], "passes": true},
  {"category": "api-auth", "description": "GitHub OAuth: error handling", "steps": ["Handle GitHub API errors", "Return 502 BAD_GATEWAY if GitHub fails", "Log error details"], "passes": true},
  {"category": "api-auth", "description": "Google OAuth: redirect endpoint", "steps": ["Implement GET /v1/auth/google handler", "Build Google authorize URL", "Include client_id, redirect_uri, scope=email profile", "HTTP redirect to Google"], "passes": true},
  {"category": "api-auth", "description": "Google OAuth: callback endpoint", "steps": ["Implement GET /v1/auth/google/callback handler", "Extract code from query params"], "passes": true},
  {"category": "api-auth", "description": "Google OAuth: exchange and fetch user", "steps": ["Exchange code for token", "Fetch user info from Google API", "Parse sub, email, name, picture"], "passes": true},
  {"category": "api-auth", "description": "Google OAuth: create or link user", "steps": ["Query users by google provider ID", "If not found, create new user", "Return JWT and refresh token"], "passes": true},
  {"category": "api-auth", "description": "Implement POST /v1/auth/refresh", "steps": ["Create handler in oauth.go", "Extract refresh_token from body", "Validate token exists in database", "Check not expired"], "passes": true},
  {"category": "api-auth", "description": "Refresh: return new tokens", "steps": ["Generate new JWT", "Optionally rotate refresh token", "Return {access_token, refresh_token}"], "passes": true},
  {"category": "api-auth", "description": "Refresh: invalid token returns 401", "steps": ["Return 401 if token not found in DB"], "passes": true},
  {"category": "api-auth", "description": "Refresh: expired token returns 401", "steps": ["Return 401 TOKEN_EXPIRED if past expires_at"], "passes": true},
  {"category": "api-auth", "description": "Implement POST /v1/auth/logout", "steps": ["Require valid JWT", "Extract refresh_token from body", "Delete from refresh_tokens table", "Return 204 No Content"], "passes": true},
  {"category": "api-auth", "description": "Implement GET /v1/auth/me", "steps": ["Require valid JWT", "Query user by ID from claims", "Return user profile with stats"], "passes": true},
  {"category": "api-auth", "description": "Me: include stats", "steps": ["Count user's posts", "Calculate reputation", "Include in response"], "passes": true},
  {"category": "api-auth", "description": "Me: return 401 if not authenticated", "steps": ["JWT middleware returns 401", "No additional handling needed"], "passes": true},
  {"category": "api-auth", "description": "OAuth integration test: GitHub flow", "steps": ["Create backend/internal/api/handlers/oauth_test.go", "Mock GitHub API responses", "Test full flow returns tokens"], "passes": true},
  {"category": "api-auth", "description": "OAuth integration test: refresh flow", "steps": ["Test refresh with valid token", "Test refresh with expired token", "Test refresh with invalid token"], "passes": true},
  {"category": "api-auth", "description": "OAuth integration test: logout flow", "steps": ["Test logout removes refresh token", "Test subsequent refresh fails"], "passes": true},

  {"category": "api-agents", "description": "Create agents handlers file", "steps": ["Create backend/internal/api/handlers/agents.go", "Import necessary packages"], "passes": true},
  {"category": "api-agents", "description": "POST /v1/agents: create agent", "steps": ["Require human JWT authentication", "Parse {id, display_name, bio?, specialties?}", "Generate API key", "Store hashed key", "Link to human_id from JWT"], "passes": true},
  {"category": "api-agents", "description": "Create agent: validate id format", "steps": ["Check id is alphanumeric + underscore only", "Check id max 50 chars", "Return 400 INVALID_ID if invalid"], "passes": true},
  {"category": "api-agents", "description": "Create agent: check duplicate id", "steps": ["Query agents by id", "Return 409 DUPLICATE_ID if exists"], "passes": true},
  {"category": "api-agents", "description": "Create agent: return API key once", "steps": ["Return {agent, api_key} in response", "api_key only returned on creation"], "passes": true},
  {"category": "api-agents", "description": "GET /v1/agents/:id: get agent", "steps": ["Query agent by id", "Return 404 if not found", "Return agent profile without api_key_hash"], "passes": true},
  {"category": "api-agents", "description": "Get agent: include stats", "steps": ["Count agent's posts", "Count agent's answers", "Include in response"], "passes": true},
  {"category": "api-agents", "description": "PATCH /v1/agents/:id: update agent", "steps": ["Require authentication", "Verify requester is owner (human_id)", "Return 403 FORBIDDEN if not owner"], "passes": true},
  {"category": "api-agents", "description": "Update agent: allowed fields", "steps": ["Allow display_name, bio, specialties, avatar_url", "Ignore other fields"], "passes": true},
  {"category": "api-agents", "description": "Update agent: return updated", "steps": ["Return updated agent profile"], "passes": true},
  {"category": "api-agents", "description": "GET /v1/agents/:id/activity: activity history", "steps": ["Query posts, answers by agent", "Support page, per_page params", "Return paginated results"], "passes": true},
  {"category": "api-agents", "description": "POST /v1/agents/:id/api-key: regenerate", "steps": ["Require owner authentication", "Generate new API key", "Hash and store new key", "Invalidate old key"], "passes": true},
  {"category": "api-agents", "description": "Regen key: return once", "steps": ["Return new api_key in response", "Old key no longer works"], "passes": true},
  {"category": "api-agents", "description": "DELETE /v1/agents/:id/api-key: revoke", "steps": ["Require owner authentication", "Set api_key_hash to NULL", "Agent can no longer authenticate"], "passes": true},
  {"category": "api-agents", "description": "Agents unit test: create", "steps": ["Create backend/internal/api/handlers/agents_test.go", "Test create with valid data", "Test create with invalid id format", "Test create with duplicate id"], "passes": true},
  {"category": "api-agents", "description": "Agents unit test: get", "steps": ["Test get existing agent", "Test get non-existent returns 404"], "passes": true},
  {"category": "api-agents", "description": "Agents unit test: update", "steps": ["Test update as owner succeeds", "Test update as non-owner returns 403"], "passes": true},
  {"category": "api-agents", "description": "Agents integration test: lifecycle", "steps": ["Create agent, get profile, update, regenerate key, revoke"], "passes": false},

  {"category": "api-search", "description": "Create search handlers file", "steps": ["Create backend/internal/api/handlers/search.go", "Import database and response packages"], "passes": true},
  {"category": "api-search", "description": "GET /v1/search: basic endpoint", "steps": ["Parse q query parameter", "Return 400 if q missing", "Return 400 if q empty"], "passes": true},
  {"category": "api-search", "description": "Search: full-text query", "steps": ["Build to_tsquery from q parameter", "Use ts_rank for relevance scoring", "Order by relevance"], "passes": true},
  {"category": "api-search", "description": "Search: result fields", "steps": ["Return id, type, title, snippet, tags", "Return status, score, votes", "Return author object"], "passes": true},
  {"category": "api-search", "description": "Search: snippet with highlights", "steps": ["Use ts_headline for snippets", "Wrap matches in <mark> tags"], "passes": true},
  {"category": "api-search", "description": "Search: filter type=problem", "steps": ["Parse type query param", "Add WHERE type = 'problem'", "Test with ?type=problem"], "passes": true},
  {"category": "api-search", "description": "Search: filter type=question", "steps": ["Add WHERE type = 'question'", "Test with ?type=question"], "passes": true},
  {"category": "api-search", "description": "Search: filter type=idea", "steps": ["Add WHERE type = 'idea'", "Test with ?type=idea"], "passes": true},
  {"category": "api-search", "description": "Search: filter by tags", "steps": ["Parse tags query param (comma-separated)", "Add WHERE tags && ARRAY['tag1', 'tag2']"], "passes": true},
  {"category": "api-search", "description": "Search: filter by status", "steps": ["Parse status query param", "Add WHERE status = ?"], "passes": true},
  {"category": "api-search", "description": "Search: filter by author", "steps": ["Parse author query param", "Add WHERE posted_by_id = ?"], "passes": true},
  {"category": "api-search", "description": "Search: filter by author_type", "steps": ["Parse author_type query param", "Add WHERE posted_by_type = ?"], "passes": true},
  {"category": "api-search", "description": "Search: filter by from_date", "steps": ["Parse from_date query param (ISO)", "Add WHERE created_at >= ?"], "passes": true},
  {"category": "api-search", "description": "Search: filter by to_date", "steps": ["Parse to_date query param (ISO)", "Add WHERE created_at <= ?"], "passes": true},
  {"category": "api-search", "description": "Search: sort by relevance", "steps": ["Default sort by ts_rank DESC"], "passes": true},
  {"category": "api-search", "description": "Search: sort by newest", "steps": ["Parse sort=newest param", "Order by created_at DESC"], "passes": true},
  {"category": "api-search", "description": "Search: sort by votes", "steps": ["Parse sort=votes param", "Order by (upvotes - downvotes) DESC"], "passes": true},
  {"category": "api-search", "description": "Search: sort by activity", "steps": ["Parse sort=activity param", "Order by updated_at DESC"], "passes": true},
  {"category": "api-search", "description": "Search: pagination page", "steps": ["Parse page query param", "Default to page 1", "Calculate offset"], "passes": true},
  {"category": "api-search", "description": "Search: pagination per_page", "steps": ["Parse per_page query param", "Default to 20", "Cap at 50"], "passes": true},
  {"category": "api-search", "description": "Search: exclude deleted", "steps": ["Add WHERE deleted_at IS NULL"], "passes": true},
  {"category": "api-search", "description": "Search: include took_ms", "steps": ["Measure query time", "Include meta.took_ms in response"], "passes": true},
  {"category": "api-search", "description": "Search: performance target", "steps": ["Verify typical queries < 100ms", "Add index hints if needed"], "passes": false},
  {"category": "api-search", "description": "Search unit test: type filter problem", "steps": ["Create backend/internal/api/handlers/search_test.go", "Test ?type=problem returns only problems"], "passes": true},
  {"category": "api-search", "description": "Search unit test: type filter question", "steps": ["Test ?type=question returns only questions"], "passes": true},
  {"category": "api-search", "description": "Search unit test: type filter idea", "steps": ["Test ?type=idea returns only ideas"], "passes": true},
  {"category": "api-search", "description": "Search unit test: tags filter", "steps": ["Test ?tags=go returns posts with go tag"], "passes": true},
  {"category": "api-search", "description": "Search unit test: sort newest", "steps": ["Test ?sort=newest returns newest first"], "passes": true},
  {"category": "api-search", "description": "Search unit test: sort votes", "steps": ["Test ?sort=votes returns highest voted first"], "passes": true},
  {"category": "api-search", "description": "Search unit test: pagination", "steps": ["Test ?page=2&per_page=10 returns correct offset"], "passes": true},
  {"category": "api-search", "description": "Search integration test: full flow", "steps": ["Create posts, search, verify results"], "passes": false},

  {"category": "api-posts", "description": "Create posts handlers file", "steps": ["Create backend/internal/api/handlers/posts.go", "Import necessary packages"], "passes": true},
  {"category": "api-posts", "description": "GET /v1/posts: list posts", "steps": ["Query posts ordered by created_at DESC", "Exclude deleted (deleted_at IS NULL)", "Return paginated list"], "passes": true},
  {"category": "api-posts", "description": "Posts list: filter by type", "steps": ["Parse type query param", "Filter WHERE type = ?"], "passes": true},
  {"category": "api-posts", "description": "Posts list: filter by status", "steps": ["Parse status query param", "Filter WHERE status = ?"], "passes": true},
  {"category": "api-posts", "description": "Posts list: filter by tags", "steps": ["Parse tags query param", "Filter WHERE tags && ARRAY[?]"], "passes": true},
  {"category": "api-posts", "description": "Posts list: pagination", "steps": ["Support page, per_page params", "Return total count"], "passes": true},
  {"category": "api-posts", "description": "GET /v1/posts/:id: single post", "steps": ["Query post by id", "Return 404 if not found", "Return 404 if deleted"], "passes": true},
  {"category": "api-posts", "description": "Single post: all fields", "steps": ["Return all post fields", "Include computed vote_score"], "passes": true},
  {"category": "api-posts", "description": "Single post: author info", "steps": ["Join author (user or agent)", "Return {type, id, display_name, avatar_url}"], "passes": true},
  {"category": "api-posts", "description": "POST /v1/posts: create post", "steps": ["Require authentication", "Parse {type, title, description, tags}"], "passes": true},
  {"category": "api-posts", "description": "Create post: validate type", "steps": ["Check type in (problem, question, idea)", "Return 400 INVALID_TYPE if not"], "passes": true},
  {"category": "api-posts", "description": "Create post: validate title", "steps": ["Check title present", "Check title >= 10 chars", "Check title <= 200 chars", "Return 400 with specific error"], "passes": true},
  {"category": "api-posts", "description": "Create post: validate description", "steps": ["Check description present", "Check description >= 50 chars", "Return 400 if too short"], "passes": true},
  {"category": "api-posts", "description": "Create post: set author", "steps": ["Set posted_by_type from auth context", "Set posted_by_id from auth context"], "passes": true},
  {"category": "api-posts", "description": "Create post: return created", "steps": ["Insert and return with id", "Return HTTP 201"], "passes": true},
  {"category": "api-posts", "description": "PATCH /v1/posts/:id: update post", "steps": ["Require authentication", "Verify requester is owner", "Return 403 if not owner"], "passes": true},
  {"category": "api-posts", "description": "Update post: allowed fields", "steps": ["Allow title, description, tags, status", "Validate same as create"], "passes": true},
  {"category": "api-posts", "description": "Update post: return updated", "steps": ["Update and return post"], "passes": true},
  {"category": "api-posts", "description": "DELETE /v1/posts/:id: soft delete", "steps": ["Set deleted_at to NOW()", "Do not remove from database"], "passes": true},
  {"category": "api-posts", "description": "Delete post: owner can delete", "steps": ["Verify requester is owner", "Allow deletion"], "passes": true},
  {"category": "api-posts", "description": "Delete post: admin can delete", "steps": ["Check role in JWT claims", "Admin can delete any post"], "passes": true},
  {"category": "api-posts", "description": "Delete post: others 403", "steps": ["Return 403 FORBIDDEN if not owner/admin"], "passes": true},
  {"category": "api-posts", "description": "POST /v1/posts/:id/vote: vote on post", "steps": ["Require authentication", "Parse {direction: 'up'|'down'}"], "passes": true},
  {"category": "api-posts", "description": "Vote: validate direction", "steps": ["Return 400 if direction not up/down"], "passes": true},
  {"category": "api-posts", "description": "Vote: create vote record", "steps": ["Insert into votes table", "Update post upvotes/downvotes"], "passes": true},
  {"category": "api-posts", "description": "Vote: one per user", "steps": ["UNIQUE constraint prevents duplicates", "Return 409 if already voted"], "passes": true},
  {"category": "api-posts", "description": "Vote: change direction", "steps": ["If voting opposite, update direction", "Adjust counts accordingly"], "passes": true},
  {"category": "api-posts", "description": "Vote: remove vote", "steps": ["If voting same direction, delete vote", "Decrement count"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: list", "steps": ["Create backend/internal/api/handlers/posts_test.go", "Test list returns posts", "Test filters work"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: get single", "steps": ["Test get existing post", "Test get non-existent returns 404", "Test get deleted returns 404"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: create validation", "steps": ["Test create with valid data", "Test title too short", "Test description too short", "Test invalid type"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: update", "steps": ["Test update as owner", "Test update as non-owner returns 403"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: delete", "steps": ["Test delete as owner", "Test delete as admin", "Test delete as others returns 403"], "passes": true},
  {"category": "api-posts", "description": "Posts unit test: voting", "steps": ["Test upvote", "Test downvote", "Test change vote", "Test remove vote"], "passes": true},
  {"category": "api-posts", "description": "Posts integration test: CRUD flow", "steps": ["Create post, read, update, delete", "Verify each step"], "passes": false},

  {"category": "api-problems", "description": "GET /v1/problems: list problems", "steps": ["Query posts WHERE type='problem'", "Return paginated list"], "passes": true},
  {"category": "api-problems", "description": "GET /v1/problems/:id: single problem", "steps": ["Query post by id", "Return 404 if not found or type != problem", "Include approaches in response"], "passes": true},
  {"category": "api-problems", "description": "POST /v1/problems: create problem", "steps": ["Require authentication", "Set type='problem'", "Accept success_criteria array", "Accept weight (1-5)"], "passes": true},
  {"category": "api-problems", "description": "GET /v1/problems/:id/approaches: list", "steps": ["Query approaches by problem_id", "Return list with author info"], "passes": true},
  {"category": "api-problems", "description": "POST /v1/problems/:id/approaches: create", "steps": ["Require authentication", "Parse {angle, method?, assumptions?, differs_from?}", "Set status='starting'"], "passes": true},
  {"category": "api-problems", "description": "PATCH /v1/approaches/:id: update", "steps": ["Require authentication", "Verify requester is author", "Allow status, outcome, solution updates"], "passes": true},
  {"category": "api-problems", "description": "POST /v1/approaches/:id/progress: add note", "steps": ["Require authentication (author)", "Insert into progress_notes", "Return created note"], "passes": true},
  {"category": "api-problems", "description": "POST /v1/approaches/:id/verify: mark verified", "steps": ["Require authentication (problem owner)", "Set approach outcome", "If succeeded, set problem status='solved'"], "passes": true},
  {"category": "api-problems", "description": "Problems unit test: approaches", "steps": ["Test create approach", "Test update approach status", "Test add progress note", "Test verify approach"], "passes": true},

  {"category": "api-questions", "description": "GET /v1/questions: list questions", "steps": ["Query posts WHERE type='question'", "Return paginated list"], "passes": true},
  {"category": "api-questions", "description": "GET /v1/questions/:id: single question", "steps": ["Query post by id", "Return 404 if not found or type != question", "Include answers sorted by votes"], "passes": true},
  {"category": "api-questions", "description": "POST /v1/questions: create question", "steps": ["Require authentication", "Set type='question'"], "passes": true},
  {"category": "api-questions", "description": "POST /v1/questions/:id/answers: create", "steps": ["Require authentication", "Parse {content}", "Insert into answers table"], "passes": true},
  {"category": "api-questions", "description": "PATCH /v1/answers/:id: update", "steps": ["Require authentication (author)", "Allow content update"], "passes": true},
  {"category": "api-questions", "description": "DELETE /v1/answers/:id: delete", "steps": ["Require authentication (author or admin)", "Soft delete"], "passes": true},
  {"category": "api-questions", "description": "POST /v1/answers/:id/vote: vote", "steps": ["Same voting logic as posts"], "passes": true},
  {"category": "api-questions", "description": "POST /v1/questions/:id/accept/:aid: accept", "steps": ["Require authentication (question owner)", "Set answer is_accepted=true", "Set question status='answered'"], "passes": true},
  {"category": "api-questions", "description": "Questions unit test: answers", "steps": ["Test create answer", "Test update answer", "Test delete answer", "Test accept answer"], "passes": true},

  {"category": "api-ideas", "description": "GET /v1/ideas: list ideas", "steps": ["Query posts WHERE type='idea'", "Return paginated list"], "passes": true},
  {"category": "api-ideas", "description": "GET /v1/ideas/:id: single idea", "steps": ["Query post by id", "Return 404 if not found or type != idea", "Include responses"], "passes": true},
  {"category": "api-ideas", "description": "POST /v1/ideas: create idea", "steps": ["Require authentication", "Set type='idea'"], "passes": true},
  {"category": "api-ideas", "description": "POST /v1/ideas/:id/responses: create", "steps": ["Require authentication", "Parse {content, response_type}", "Insert into responses table"], "passes": true},
  {"category": "api-ideas", "description": "Response types validation", "steps": ["Validate response_type in (build, critique, expand, question, support)"], "passes": true},
  {"category": "api-ideas", "description": "POST /v1/ideas/:id/evolve: link evolved", "steps": ["Require authentication", "Parse {evolved_post_id}", "Add to evolved_into array"], "passes": true},
  {"category": "api-ideas", "description": "Ideas unit test: responses", "steps": ["Test create response", "Test response types", "Test evolve link"], "passes": true},

  {"category": "api-comments", "description": "GET /v1/posts/:id/comments: list", "steps": ["Query comments WHERE target_type='post' AND target_id=:id", "Order by created_at ASC"], "passes": true},
  {"category": "api-comments", "description": "POST /v1/posts/:id/comments: create", "steps": ["Require authentication", "Parse {content}", "Insert comment"], "passes": true},
  {"category": "api-comments", "description": "DELETE /v1/comments/:id: delete", "steps": ["Require authentication (author or admin)", "Soft delete"], "passes": true},
  {"category": "api-comments", "description": "Comments unit test", "steps": ["Test list comments", "Test create comment", "Test delete comment"], "passes": true},

  {"category": "api-feed", "description": "GET /v1/feed: recent activity", "steps": ["Query recent posts and answers", "Union and order by created_at DESC", "Return paginated list"], "passes": true},
  {"category": "api-feed", "description": "GET /v1/feed/stuck: stuck problems", "steps": ["Query problems with approaches status='stuck'", "Order by created_at DESC"], "passes": true},
  {"category": "api-feed", "description": "GET /v1/feed/unanswered: unanswered questions", "steps": ["Query questions with zero answers", "Order by created_at DESC"], "passes": true},
  {"category": "api-feed", "description": "Feed unit test: main feed", "steps": ["Test feed returns recent activity"], "passes": true},
  {"category": "api-feed", "description": "Feed unit test: stuck", "steps": ["Test stuck feed returns stuck problems"], "passes": true},
  {"category": "api-feed", "description": "Feed unit test: unanswered", "steps": ["Test unanswered returns questions without answers"], "passes": true},

  {"category": "api-notifications", "description": "GET /v1/notifications: list", "steps": ["Require authentication", "Query notifications for user/agent", "Order by created_at DESC"], "passes": true},
  {"category": "api-notifications", "description": "POST /v1/notifications/:id/read: mark read", "steps": ["Require authentication (owner)", "Set read_at = NOW()"], "passes": true},
  {"category": "api-notifications", "description": "POST /v1/notifications/read-all: mark all read", "steps": ["Require authentication", "Update all unread for user"], "passes": true},
  {"category": "api-notifications", "description": "Notifications unit test", "steps": ["Test list notifications", "Test mark read", "Test mark all read"], "passes": true},

  {"category": "api-webhooks", "description": "POST /v1/agents/:id/webhooks: create", "steps": ["Require authentication (agent owner)", "Parse {url, events, secret}", "Validate url is HTTPS", "Hash and store secret"], "passes": false},
  {"category": "api-webhooks", "description": "Create webhook: validate events", "steps": ["Validate events array", "Return 400 if invalid event type"], "passes": false},
  {"category": "api-webhooks", "description": "GET /v1/agents/:id/webhooks: list", "steps": ["Require authentication (owner)", "Return webhooks without secret"], "passes": false},
  {"category": "api-webhooks", "description": "GET /v1/agents/:id/webhooks/:wh_id: single", "steps": ["Require authentication (owner)", "Return webhook details"], "passes": false},
  {"category": "api-webhooks", "description": "PATCH /v1/agents/:id/webhooks/:wh_id: update", "steps": ["Require authentication (owner)", "Allow url, events, secret, status updates"], "passes": false},
  {"category": "api-webhooks", "description": "DELETE /v1/agents/:id/webhooks/:wh_id: delete", "steps": ["Require authentication (owner)", "Delete webhook record"], "passes": false},
  {"category": "api-webhooks", "description": "Create webhook delivery service", "steps": ["Create backend/internal/services/webhook.go", "Implement DeliverWebhook(event, data)"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook delivery: payload format", "steps": ["Build JSON {event, timestamp, data}", "POST to webhook URL"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook delivery: signature", "steps": ["HMAC-SHA256 payload with secret", "Add X-Solvr-Signature header"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook delivery: attempt header", "steps": ["Add X-Solvr-Delivery-Attempt header (1-5)"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook retry: schedule", "steps": ["Immediate, 1min, 5min, 30min, 2h"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook retry: mark failing", "steps": ["After 5 failures, set status='failing'"], "passes": false},
  {"category": "api-webhooks", "description": "Webhook retry: auto-disable", "steps": ["After 24h continuous failure, set status='disabled'"], "passes": false},
  {"category": "api-webhooks", "description": "Webhooks unit test: CRUD", "steps": ["Test create, get, update, delete webhook"], "passes": false},
  {"category": "api-webhooks", "description": "Webhooks unit test: delivery", "steps": ["Test delivery with mock HTTP", "Test retry logic", "Test signature generation"], "passes": false},

  {"category": "security", "description": "Create rate limit middleware", "steps": ["Create backend/internal/api/middleware/ratelimit.go", "Use rate_limits table for persistence"], "passes": false},
  {"category": "security", "description": "Rate limit: key by user/agent", "steps": ["Generate key from auth context", "Different keys for different users/agents"], "passes": false},
  {"category": "security", "description": "Rate limit: agent 120/min", "steps": ["Set 120 requests/minute for agents"], "passes": false},
  {"category": "security", "description": "Rate limit: human 60/min", "steps": ["Set 60 requests/minute for humans"], "passes": false},
  {"category": "security", "description": "Rate limit: search 60/min", "steps": ["Set 60 searches/minute for agents"], "passes": false},
  {"category": "security", "description": "Rate limit: posts 10/hour agent", "steps": ["Set 10 posts/hour for agents"], "passes": false},
  {"category": "security", "description": "Rate limit: posts 5/hour human", "steps": ["Set 5 posts/hour for humans"], "passes": false},
  {"category": "security", "description": "Rate limit: answers 30/hour agent", "steps": ["Set 30 answers/hour for agents"], "passes": false},
  {"category": "security", "description": "Rate limit: answers 20/hour human", "steps": ["Set 20 answers/hour for humans"], "passes": false},
  {"category": "security", "description": "Rate limit: new account 50%", "steps": ["Check account age < 24h", "Apply 50% rate limit"], "passes": false},
  {"category": "security", "description": "Rate limit: return 429", "steps": ["Return HTTP 429 when limit exceeded"], "passes": false},
  {"category": "security", "description": "Rate limit: X-RateLimit-Limit header", "steps": ["Add header with limit value"], "passes": false},
  {"category": "security", "description": "Rate limit: X-RateLimit-Remaining header", "steps": ["Add header with remaining requests"], "passes": false},
  {"category": "security", "description": "Rate limit: X-RateLimit-Reset header", "steps": ["Add header with reset timestamp"], "passes": false},
  {"category": "security", "description": "Rate limit: Retry-After header", "steps": ["Add Retry-After header on 429 response"], "passes": false},
  {"category": "security", "description": "Create duplicate detection service", "steps": ["Create backend/internal/services/duplicate.go"], "passes": false},
  {"category": "security", "description": "Duplicate: hash content", "steps": ["Hash title+description with SHA256", "Store hash in memory or cache"], "passes": false},
  {"category": "security", "description": "Duplicate: check recent", "steps": ["Check against hashes from last 24h", "Return match if found"], "passes": false},
  {"category": "security", "description": "Duplicate: return 409", "steps": ["Return 409 DUPLICATE_CONTENT error"], "passes": false},
  {"category": "security", "description": "Cooldown: problem 10 min", "steps": ["Check last problem post time", "Return 429 if < 10 min"], "passes": false},
  {"category": "security", "description": "Cooldown: question 5 min", "steps": ["Check last question post time", "Return 429 if < 5 min"], "passes": false},
  {"category": "security", "description": "Cooldown: idea 5 min", "steps": ["Check last idea post time", "Return 429 if < 5 min"], "passes": false},
  {"category": "security", "description": "Cooldown: answer 2 min", "steps": ["Check last answer time", "Return 429 if < 2 min"], "passes": false},
  {"category": "security", "description": "Cooldown: comment 30 sec", "steps": ["Check last comment time", "Return 429 if < 30 sec"], "passes": false},
  {"category": "security", "description": "CORS: production origin", "steps": ["Allow production domain in CORS config"], "passes": false},
  {"category": "security", "description": "CORS: localhost dev", "steps": ["Allow localhost:3000 in development"], "passes": false},
  {"category": "security", "description": "CORS: credentials", "steps": ["Set Access-Control-Allow-Credentials: true"], "passes": false},
  {"category": "security", "description": "CORS: expose headers", "steps": ["Expose X-RateLimit-* headers"], "passes": false},
  {"category": "security", "description": "Security unit test: rate limits", "steps": ["Test rate limit enforcement", "Test limit reset"], "passes": false},
  {"category": "security", "description": "Security unit test: cooldowns", "steps": ["Test each cooldown period"], "passes": false},
  {"category": "security", "description": "Security unit test: duplicate detection", "steps": ["Test duplicate detection", "Test hash expiry"], "passes": false},

  {"category": "api-admin", "description": "Create admin middleware", "steps": ["Create backend/internal/api/middleware/admin.go", "Check role='admin' in JWT claims", "Return 403 if not admin"], "passes": false},
  {"category": "api-admin", "description": "Create admin handlers file", "steps": ["Create backend/internal/api/handlers/admin.go"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/flags: list flags", "steps": ["Require admin middleware", "Query flags WHERE status='pending'", "Include content preview"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/flags/:id/dismiss: dismiss", "steps": ["Set status='dismissed'", "Create audit log entry"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/flags/:id/action: take action", "steps": ["Parse {action: warn|hide|delete}", "Execute action", "Create audit log entry"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/users: list users", "steps": ["Support pagination", "Support ?q= search"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/users/:id: user detail", "steps": ["Return user with activity history"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/users/:id/warn: warn user", "steps": ["Create notification for user", "Create audit log entry"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/users/:id/suspend: suspend", "steps": ["Set user status='suspended'", "Block authentication", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/users/:id/ban: ban", "steps": ["Set user status='banned'", "Permanent ban", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/agents: list agents", "steps": ["Return paginated agent list"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/agents/:id/revoke-key: revoke", "steps": ["Set api_key_hash = NULL", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/agents/:id/suspend: suspend", "steps": ["Set agent status='suspended'", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/audit: audit log", "steps": ["Return paginated audit log", "Support ?action=, ?admin_id=, ?from_date=, ?to_date= filters"], "passes": false},
  {"category": "api-admin", "description": "GET /v1/admin/stats: system stats", "steps": ["Return {users_count, agents_count, posts_count}", "Include rate_limit_hits count"], "passes": false},
  {"category": "api-admin", "description": "DELETE /v1/admin/posts/:id: hard delete", "steps": ["Permanently delete post", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "POST /v1/admin/posts/:id/restore: restore", "steps": ["Set deleted_at = NULL", "Create audit log"], "passes": false},
  {"category": "api-admin", "description": "Admin unit test: flags", "steps": ["Test list flags", "Test dismiss", "Test action"], "passes": false},
  {"category": "api-admin", "description": "Admin unit test: users", "steps": ["Test list users", "Test warn", "Test suspend", "Test ban"], "passes": false},
  {"category": "api-admin", "description": "Admin unit test: audit", "steps": ["Test audit log query", "Test filters"], "passes": false},

  {"category": "api-flags", "description": "POST /v1/flags: create flag", "steps": ["Require authentication", "Parse {target_type, target_id, reason}", "Insert flag record"], "passes": false},
  {"category": "api-flags", "description": "Flag: validate target_type", "steps": ["Check target_type in (post, comment, answer, approach, response)"], "passes": false},
  {"category": "api-flags", "description": "Flag: validate reason", "steps": ["Check reason in (spam, inappropriate, duplicate, other)"], "passes": false},
  {"category": "api-flags", "description": "Flags unit test", "steps": ["Test create flag", "Test validation"], "passes": false},

  {"category": "notifications", "description": "Create notification service", "steps": ["Create backend/internal/services/notification.go", "Implement CreateNotification(userID, type, title, body, link)"], "passes": false},
  {"category": "notifications", "description": "Notify on new answer", "steps": ["Trigger when answer created", "Notify question author"], "passes": false},
  {"category": "notifications", "description": "Notify on approach update", "steps": ["Trigger on approach status change", "Notify problem author"], "passes": false},
  {"category": "notifications", "description": "Notify on comment", "steps": ["Trigger on comment created", "Notify post/answer author"], "passes": false},
  {"category": "notifications", "description": "Notify on accepted answer", "steps": ["Trigger when answer accepted", "Notify answer author"], "passes": false},
  {"category": "notifications", "description": "Notify on upvote milestone", "steps": ["Trigger at 10, 50, 100 upvotes", "Notify content author"], "passes": false},
  {"category": "notifications", "description": "Notify on mention", "steps": ["Parse @username in content", "Notify mentioned user"], "passes": false},
  {"category": "notifications", "description": "Notification service tests", "steps": ["Test each notification trigger"], "passes": false},

  {"category": "email", "description": "Create email service", "steps": ["Create backend/internal/services/email.go", "Implement SendEmail(to, subject, html, text)"], "passes": false},
  {"category": "email", "description": "SMTP configuration", "steps": ["Parse SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASS from env", "Configure SMTP client"], "passes": false},
  {"category": "email", "description": "Email template: welcome", "steps": ["Create welcome email template", "Send on user signup"], "passes": false},
  {"category": "email", "description": "Email template: new answer", "steps": ["Create new answer notification template", "Include link to question"], "passes": false},
  {"category": "email", "description": "Email template: approach update", "steps": ["Create approach status change template"], "passes": false},
  {"category": "email", "description": "Email: async queue", "steps": ["Don't block request on email send", "Queue and send asynchronously"], "passes": false},
  {"category": "email", "description": "Email: retry on failure", "steps": ["Retry failed sends up to 3 times"], "passes": false},
  {"category": "email", "description": "Email service tests", "steps": ["Test with mock SMTP", "Verify template rendering"], "passes": false},

  {"category": "reputation", "description": "Create reputation service", "steps": ["Create backend/internal/services/reputation.go", "Implement CalculateReputation(userID)"], "passes": false},
  {"category": "reputation", "description": "Rep: upvote +10", "steps": ["Add 10 rep per upvote received"], "passes": false},
  {"category": "reputation", "description": "Rep: accepted answer +25", "steps": ["Add 25 rep when answer accepted"], "passes": false},
  {"category": "reputation", "description": "Rep: downvote -2", "steps": ["Subtract 2 rep per downvote received"], "passes": false},
  {"category": "reputation", "description": "Reputation service tests", "steps": ["Test reputation calculations"], "passes": false},

  {"category": "moderation", "description": "Auto-flag: spam detection", "steps": ["Create backend/internal/services/moderation.go", "Check for spam patterns", "Auto-create flag"], "passes": false},
  {"category": "moderation", "description": "Auto-flag: duplicate detection", "steps": ["Compare title/content hashes", "Flag if similar found"], "passes": false},
  {"category": "moderation", "description": "Auto-flag: rate abuse", "steps": ["Flag users posting too fast"], "passes": false},
  {"category": "moderation", "description": "Auto-flag: link spam", "steps": ["Flag excessive external links"], "passes": false},
  {"category": "moderation", "description": "Moderation tests", "steps": ["Test each detection rule"], "passes": false},

  {"category": "frontend-core", "description": "Update app/layout.tsx", "steps": ["Update frontend/src/app/layout.tsx", "Add site title and description", "Configure fonts and theme"], "passes": false},
  {"category": "frontend-core", "description": "Import Tailwind styles", "steps": ["Verify globals.css imports Tailwind", "Add CSS custom properties for theme"], "passes": false},
  {"category": "frontend-core", "description": "Create API client", "steps": ["Create frontend/src/lib/api.ts", "Export fetch wrapper with base URL"], "passes": false},
  {"category": "frontend-core", "description": "API client: auth header", "steps": ["Add Authorization header from localStorage", "Handle token refresh on 401"], "passes": false},
  {"category": "frontend-core", "description": "API client: error handling", "steps": ["Parse error responses", "Throw typed ApiError"], "passes": false},
  {"category": "frontend-core", "description": "Create ErrorBoundary", "steps": ["Create frontend/src/components/ErrorBoundary.tsx", "Catch render errors", "Show fallback UI"], "passes": false},
  {"category": "frontend-core", "description": "Create Header component", "steps": ["Create frontend/src/components/Header.tsx", "Add logo/brand", "Add nav links", "Add search bar", "Add user menu"], "passes": false},
  {"category": "frontend-core", "description": "Create Sidebar component", "steps": ["Create frontend/src/components/Sidebar.tsx", "Add nav links", "Make collapsible on mobile"], "passes": false},
  {"category": "frontend-core", "description": "Create Footer component", "steps": ["Create frontend/src/components/Footer.tsx", "Add links to Terms, Privacy"], "passes": false},
  {"category": "frontend-core", "description": "Layout: responsive design", "steps": ["Test layout at 375px width", "Verify no horizontal scroll"], "passes": false},
  {"category": "frontend-core", "description": "Core components tests", "steps": ["Test Header renders", "Test Footer renders", "Test Sidebar collapses"], "passes": false},

  {"category": "frontend-auth", "description": "Create /login page", "steps": ["Create frontend/src/app/login/page.tsx"], "passes": false},
  {"category": "frontend-auth", "description": "Login: GitHub button", "steps": ["Add GitHub OAuth button", "Style with GitHub colors"], "passes": false},
  {"category": "frontend-auth", "description": "Login: Google button", "steps": ["Add Google OAuth button", "Style with Google colors"], "passes": false},
  {"category": "frontend-auth", "description": "Login: redirect to OAuth", "steps": ["Button click redirects to /v1/auth/github or /v1/auth/google"], "passes": false},
  {"category": "frontend-auth", "description": "Create callback page", "steps": ["Create frontend/src/app/auth/callback/page.tsx"], "passes": false},
  {"category": "frontend-auth", "description": "Callback: handle tokens", "steps": ["Parse tokens from URL/cookie", "Store in localStorage", "Redirect to dashboard"], "passes": false},
  {"category": "frontend-auth", "description": "Create useAuth hook", "steps": ["Create frontend/src/hooks/useAuth.ts", "Return {user, isLoading, login, logout}"], "passes": false},
  {"category": "frontend-auth", "description": "useAuth: current user", "steps": ["Fetch /v1/auth/me on mount", "Cache user in state"], "passes": false},
  {"category": "frontend-auth", "description": "useAuth: login function", "steps": ["Redirect to OAuth provider"], "passes": false},
  {"category": "frontend-auth", "description": "useAuth: logout function", "steps": ["Call /v1/auth/logout", "Clear localStorage", "Redirect to home"], "passes": false},
  {"category": "frontend-auth", "description": "Create ProtectedRoute", "steps": ["Create frontend/src/components/ProtectedRoute.tsx", "Redirect to /login if not authenticated"], "passes": false},
  {"category": "frontend-auth", "description": "Auth components tests", "steps": ["Test login page renders", "Test callback handles tokens", "Test useAuth hook"], "passes": false},

  {"category": "frontend-pages", "description": "Create homepage /", "steps": ["Update frontend/src/app/page.tsx", "Replace default content"], "passes": false},
  {"category": "frontend-pages", "description": "Homepage: recent activity", "steps": ["Fetch /v1/feed", "Display recent posts"], "passes": false},
  {"category": "frontend-pages", "description": "Homepage: quick stats", "steps": ["Display problems, questions, agents counts"], "passes": false},
  {"category": "frontend-pages", "description": "Homepage: CTA", "steps": ["Add 'Get Started' button", "Link to /login or /new"], "passes": false},
  {"category": "frontend-pages", "description": "Homepage: loading state", "steps": ["Show skeleton while loading"], "passes": false},
  {"category": "frontend-pages", "description": "Homepage: error state", "steps": ["Show error message if fetch fails"], "passes": false},
  {"category": "frontend-pages", "description": "Create /search page", "steps": ["Create frontend/src/app/search/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "Search: input field", "steps": ["Add search input", "Bind to URL query param"], "passes": false},
  {"category": "frontend-pages", "description": "Search: filters", "steps": ["Add type dropdown", "Add status dropdown", "Add sort dropdown"], "passes": false},
  {"category": "frontend-pages", "description": "Search: results list", "steps": ["Display search results as PostCards"], "passes": false},
  {"category": "frontend-pages", "description": "Search: pagination", "steps": ["Add page controls", "Update URL params"], "passes": false},
  {"category": "frontend-pages", "description": "Search: loading/empty states", "steps": ["Show skeleton while loading", "Show 'No results' message"], "passes": false},
  {"category": "frontend-pages", "description": "Create /posts/[id] page", "steps": ["Create frontend/src/app/posts/[id]/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "Post detail: fetch and display", "steps": ["Fetch /v1/posts/:id", "Display title, description, tags"], "passes": false},
  {"category": "frontend-pages", "description": "Post detail: author info", "steps": ["Display AuthorBadge component"], "passes": false},
  {"category": "frontend-pages", "description": "Post detail: votes", "steps": ["Display VoteButtons component"], "passes": false},
  {"category": "frontend-pages", "description": "Post detail: comments", "steps": ["Display CommentThread component"], "passes": false},
  {"category": "frontend-pages", "description": "Post detail: 404 page", "steps": ["Show 404 if post not found"], "passes": false},
  {"category": "frontend-pages", "description": "Problem page: approaches", "steps": ["List approaches on problem detail", "Show status indicators"], "passes": false},
  {"category": "frontend-pages", "description": "Problem page: start approach", "steps": ["Add 'Start Approach' button", "Show approach form modal"], "passes": false},
  {"category": "frontend-pages", "description": "Question page: answers", "steps": ["List answers sorted by votes", "Highlight accepted answer"], "passes": false},
  {"category": "frontend-pages", "description": "Question page: answer form", "steps": ["Add answer input form", "Submit to API"], "passes": false},
  {"category": "frontend-pages", "description": "Question page: accept button", "steps": ["Owner can accept answer"], "passes": false},
  {"category": "frontend-pages", "description": "Idea page: responses", "steps": ["List responses with type badges"], "passes": false},
  {"category": "frontend-pages", "description": "Idea page: response form", "steps": ["Add response form with type selector"], "passes": false},
  {"category": "frontend-pages", "description": "Create /new/problem page", "steps": ["Create frontend/src/app/new/problem/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "New problem: form fields", "steps": ["Add title input", "Add description textarea", "Add tags input", "Add success criteria input"], "passes": false},
  {"category": "frontend-pages", "description": "New problem: preview", "steps": ["Add preview tab", "Render markdown"], "passes": false},
  {"category": "frontend-pages", "description": "New problem: submit", "steps": ["POST to /v1/problems", "Redirect to created post"], "passes": false},
  {"category": "frontend-pages", "description": "Create /new/question page", "steps": ["Create frontend/src/app/new/question/page.tsx", "Add form fields", "Submit to API"], "passes": false},
  {"category": "frontend-pages", "description": "Create /new/idea page", "steps": ["Create frontend/src/app/new/idea/page.tsx", "Add form fields", "Submit to API"], "passes": false},
  {"category": "frontend-pages", "description": "Create /users/[username] page", "steps": ["Create frontend/src/app/users/[username]/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "User profile: display info", "steps": ["Show name, bio, avatar", "Show stats (posts, reputation)"], "passes": false},
  {"category": "frontend-pages", "description": "User profile: activity", "steps": ["Show recent activity"], "passes": false},
  {"category": "frontend-pages", "description": "User profile: edit button", "steps": ["Show edit button if own profile"], "passes": false},
  {"category": "frontend-pages", "description": "Create /agents/[id] page", "steps": ["Create frontend/src/app/agents/[id]/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "Agent profile: display", "steps": ["Show name, bio, specialties", "Show stats"], "passes": false},
  {"category": "frontend-pages", "description": "Create /settings page", "steps": ["Create frontend/src/app/settings/page.tsx", "Require authentication"], "passes": false},
  {"category": "frontend-pages", "description": "Settings: profile form", "steps": ["Edit display_name, bio, avatar"], "passes": false},
  {"category": "frontend-pages", "description": "Settings: agents list", "steps": ["List registered agents", "Create new agent form"], "passes": false},
  {"category": "frontend-pages", "description": "Settings: notifications", "steps": ["Notification preferences"], "passes": false},
  {"category": "frontend-pages", "description": "Create /dashboard page", "steps": ["Create frontend/src/app/dashboard/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "Dashboard: your posts", "steps": ["List user's own posts"], "passes": false},
  {"category": "frontend-pages", "description": "Dashboard: activity feed", "steps": ["Show activity on your content"], "passes": false},
  {"category": "frontend-pages", "description": "Create /feed page", "steps": ["Create frontend/src/app/feed/page.tsx"], "passes": false},
  {"category": "frontend-pages", "description": "Feed: sort options", "steps": ["Add sort dropdown (latest, top, hot)"], "passes": false},
  {"category": "frontend-pages", "description": "Feed: type filter", "steps": ["Filter by all, problems, questions, ideas"], "passes": false},
  {"category": "frontend-pages", "description": "Feed: pagination", "steps": ["Add load more / infinite scroll"], "passes": false},
  {"category": "frontend-pages", "description": "Page tests", "steps": ["Test each page renders correctly"], "passes": false},

  {"category": "frontend-components", "description": "Create PostCard component", "steps": ["Create frontend/src/components/PostCard.tsx", "Display title, snippet, author, votes, type badge, tags"], "passes": false},
  {"category": "frontend-components", "description": "PostCard: link to detail", "steps": ["Wrap in Link to /posts/:id"], "passes": false},
  {"category": "frontend-components", "description": "Create SearchBar component", "steps": ["Create frontend/src/components/SearchBar.tsx", "Add search icon", "Support Cmd+K shortcut"], "passes": false},
  {"category": "frontend-components", "description": "Create VoteButtons component", "steps": ["Create frontend/src/components/VoteButtons.tsx", "Add upvote/downvote buttons", "Show current score"], "passes": false},
  {"category": "frontend-components", "description": "VoteButtons: API integration", "steps": ["Call vote API on click", "Highlight user's vote", "Update count optimistically"], "passes": false},
  {"category": "frontend-components", "description": "Create CommentThread component", "steps": ["Create frontend/src/components/CommentThread.tsx", "List comments", "Add new comment form"], "passes": false},
  {"category": "frontend-components", "description": "CommentThread: delete", "steps": ["Show delete button for owner", "Call delete API"], "passes": false},
  {"category": "frontend-components", "description": "Create AuthorBadge component", "steps": ["Create frontend/src/components/AuthorBadge.tsx", "Show avatar, name", "Indicate human/agent type", "Link to profile"], "passes": false},
  {"category": "frontend-components", "description": "Create TagChip component", "steps": ["Create frontend/src/components/TagChip.tsx", "Display tag text", "Link to search with tag filter"], "passes": false},
  {"category": "frontend-components", "description": "Create StatusBadge component", "steps": ["Create frontend/src/components/StatusBadge.tsx", "Different colors per status"], "passes": false},
  {"category": "frontend-components", "description": "Create TypeBadge component", "steps": ["Create frontend/src/components/TypeBadge.tsx", "Different icons for problem/question/idea"], "passes": false},
  {"category": "frontend-components", "description": "Component tests", "steps": ["Test each component renders", "Test interactions"], "passes": false},

  {"category": "frontend-admin", "description": "Create /admin page", "steps": ["Create frontend/src/app/admin/page.tsx", "Require admin role"], "passes": false},
  {"category": "frontend-admin", "description": "Admin: overview stats", "steps": ["Display key metrics from /v1/admin/stats"], "passes": false},
  {"category": "frontend-admin", "description": "Admin: quick links", "steps": ["Links to flags, users, audit sub-pages"], "passes": false},
  {"category": "frontend-admin", "description": "Create /admin/flags page", "steps": ["Create frontend/src/app/admin/flags/page.tsx", "List pending flags"], "passes": false},
  {"category": "frontend-admin", "description": "Flags: content preview", "steps": ["Show flagged content preview"], "passes": false},
  {"category": "frontend-admin", "description": "Flags: action buttons", "steps": ["Add dismiss, warn, hide, delete buttons"], "passes": false},
  {"category": "frontend-admin", "description": "Create /admin/users page", "steps": ["Create frontend/src/app/admin/users/page.tsx", "Paginated user list with search"], "passes": false},
  {"category": "frontend-admin", "description": "Create /admin/users/[id] page", "steps": ["Create frontend/src/app/admin/users/[id]/page.tsx", "User detail with activity"], "passes": false},
  {"category": "frontend-admin", "description": "User admin: action buttons", "steps": ["Add warn, suspend, ban buttons"], "passes": false},
  {"category": "frontend-admin", "description": "Create /admin/audit page", "steps": ["Create frontend/src/app/admin/audit/page.tsx", "List audit log with filters"], "passes": false},
  {"category": "frontend-admin", "description": "Admin page tests", "steps": ["Test admin pages render", "Test action flows"], "passes": false},

  {"category": "mcp-server", "description": "Create mcp-server directory", "steps": ["Create mcp-server/ directory", "Initialize package.json or go.mod"], "passes": false},
  {"category": "mcp-server", "description": "MCP: configuration", "steps": ["Parse SOLVR_API_KEY env", "Parse SOLVR_API_URL env"], "passes": false},
  {"category": "mcp-server", "description": "MCP: tool manifest", "steps": ["Declare available tools in manifest", "Include name, description, parameters"], "passes": false},
  {"category": "mcp-server", "description": "Implement solvr_search tool", "steps": ["Accept query, type?, limit? params", "Call /v1/search", "Format and return results"], "passes": false},
  {"category": "mcp-server", "description": "Implement solvr_get tool", "steps": ["Accept id, include? params", "Call /v1/posts/:id", "Return formatted post"], "passes": false},
  {"category": "mcp-server", "description": "Implement solvr_post tool", "steps": ["Accept type, title, description, tags? params", "Call POST /v1/posts", "Return created post ID"], "passes": false},
  {"category": "mcp-server", "description": "Implement solvr_answer tool", "steps": ["Accept post_id, content params", "Call POST /v1/questions/:id/answers", "Return created answer"], "passes": false},
  {"category": "mcp-server", "description": "MCP: README", "steps": ["Create mcp-server/README.md", "Document setup and configuration"], "passes": false},
  {"category": "mcp-server", "description": "MCP: tests", "steps": ["Test each tool with mock API"], "passes": false},

  {"category": "cli", "description": "Create cli directory", "steps": ["Create cli/ directory", "Initialize go.mod for Go CLI"], "passes": false},
  {"category": "cli", "description": "CLI: main entry", "steps": ["Create cli/main.go", "Use cobra for command framework"], "passes": false},
  {"category": "cli", "description": "CLI: --help flag", "steps": ["Implement help output", "Show available commands"], "passes": false},
  {"category": "cli", "description": "CLI: --version flag", "steps": ["Show version number"], "passes": false},
  {"category": "cli", "description": "CLI: config command", "steps": ["Implement 'solvr config' command", "Subcommands: set, get"], "passes": false},
  {"category": "cli", "description": "config: set api-key", "steps": ["Save API key to ~/.solvr/config"], "passes": false},
  {"category": "cli", "description": "config: get", "steps": ["Show current configuration"], "passes": false},
  {"category": "cli", "description": "CLI: search command", "steps": ["Implement 'solvr search <query>'", "Call /v1/search"], "passes": false},
  {"category": "cli", "description": "search: pretty output", "steps": ["Format results nicely for terminal"], "passes": false},
  {"category": "cli", "description": "search: --json flag", "steps": ["Output raw JSON"], "passes": false},
  {"category": "cli", "description": "search: --type flag", "steps": ["Filter by type"], "passes": false},
  {"category": "cli", "description": "search: --limit flag", "steps": ["Limit results count"], "passes": false},
  {"category": "cli", "description": "CLI: get command", "steps": ["Implement 'solvr get <id>'", "Show post details"], "passes": false},
  {"category": "cli", "description": "get: --include flag", "steps": ["Include approaches/answers"], "passes": false},
  {"category": "cli", "description": "CLI: post command", "steps": ["Implement 'solvr post <type>'", "Support --title, --description, --tags"], "passes": false},
  {"category": "cli", "description": "post: interactive mode", "steps": ["Prompt for fields if not provided"], "passes": false},
  {"category": "cli", "description": "CLI: answer command", "steps": ["Implement 'solvr answer <post_id>'", "Support --content flag"], "passes": false},
  {"category": "cli", "description": "answer: editor mode", "steps": ["Open $EDITOR if --content not provided"], "passes": false},
  {"category": "cli", "description": "CLI tests", "steps": ["Test each command"], "passes": false},

  {"category": "discovery", "description": "GET /.well-known/ai-agent.json", "steps": ["Create handler for discovery endpoint", "Return API URL, MCP info, CLI info"], "passes": false},
  {"category": "discovery", "description": "GET /v1/openapi.json", "steps": ["Generate or serve OpenAPI spec", "Validate as OpenAPI 3.0"], "passes": false},
  {"category": "discovery", "description": "GET /v1/openapi.yaml", "steps": ["Serve YAML version of spec"], "passes": false},
  {"category": "discovery", "description": "Discovery tests", "steps": ["Test discovery endpoints"], "passes": false},

  {"category": "seo", "description": "Dynamic page titles", "steps": ["Set unique <title> per page", "Include post title on detail pages"], "passes": false},
  {"category": "seo", "description": "Meta descriptions", "steps": ["Add <meta name='description'> to pages"], "passes": false},
  {"category": "seo", "description": "Open Graph tags", "steps": ["Add og:title, og:description, og:image"], "passes": false},
  {"category": "seo", "description": "Twitter cards", "steps": ["Add twitter:card, twitter:title meta tags"], "passes": false},
  {"category": "seo", "description": "GET /sitemap.xml", "steps": ["Generate sitemap", "Include post URLs"], "passes": false},
  {"category": "seo", "description": "GET /robots.txt", "steps": ["Serve robots.txt", "Allow /, disallow /admin, /api"], "passes": false},
  {"category": "seo", "description": "SEO tests", "steps": ["Test meta tags present"], "passes": false},

  {"category": "legal", "description": "Create /terms page", "steps": ["Create frontend/src/app/terms/page.tsx", "Add Terms of Service content"], "passes": false},
  {"category": "legal", "description": "Create /privacy page", "steps": ["Create frontend/src/app/privacy/page.tsx", "Add Privacy Policy content"], "passes": false},
  {"category": "legal", "description": "Footer: legal links", "steps": ["Add links to Terms, Privacy in Footer"], "passes": false},

  {"category": "finalization", "description": "E2E: Human signup flow", "steps": ["Test OAuth login end-to-end", "Verify user created in database"], "passes": false},
  {"category": "finalization", "description": "E2E: Human posts question", "steps": ["Create question via UI", "Verify appears in feed", "Verify searchable"], "passes": false},
  {"category": "finalization", "description": "E2E: Agent registration", "steps": ["Human registers agent", "Verify API key returned"], "passes": false},
  {"category": "finalization", "description": "E2E: Agent searches", "steps": ["Search via API with agent key", "Verify results returned"], "passes": false},
  {"category": "finalization", "description": "E2E: Agent posts answer", "steps": ["Post answer via API", "Verify created"], "passes": false},
  {"category": "finalization", "description": "E2E: MCP tools", "steps": ["Test solvr_search, solvr_get, solvr_post via MCP"], "passes": false},
  {"category": "finalization", "description": "E2E: CLI commands", "steps": ["Test solvr search, solvr get, solvr post"], "passes": false},
  {"category": "finalization", "description": "E2E: Webhooks", "steps": ["Register webhook", "Trigger event", "Verify delivery with signature"], "passes": false},
  {"category": "finalization", "description": "E2E: Rate limiting", "steps": ["Exceed rate limit", "Verify 429 response", "Verify resets after window"], "passes": false},
  {"category": "finalization", "description": "E2E: Admin flows", "steps": ["Admin login", "View and action flags", "Verify audit log"], "passes": false},
  {"category": "finalization", "description": "E2E: Mobile responsive", "steps": ["Test navigation at 375px", "Test forms work on mobile", "Verify no horizontal scroll"], "passes": false},
  {"category": "finalization", "description": "Performance: Search < 100ms", "steps": ["Measure search p95 latency", "Verify under 100ms"], "passes": false},
  {"category": "finalization", "description": "Performance: List < 200ms", "steps": ["Measure post list p95 latency", "Verify under 200ms"], "passes": false},
  {"category": "finalization", "description": "Performance: Homepage < 500ms", "steps": ["Measure homepage load time", "Verify under 500ms"], "passes": false},
  {"category": "finalization", "description": "Security: HTTPS only", "steps": ["Verify HTTP redirects to HTTPS"], "passes": false},
  {"category": "finalization", "description": "Security: No key leaks", "steps": ["Verify API keys not in logs", "Verify redaction works"], "passes": false},
  {"category": "finalization", "description": "Security: SQL injection", "steps": ["Test injection attempts blocked"], "passes": false},
  {"category": "finalization", "description": "Security: XSS prevention", "steps": ["Test XSS attempts sanitized"], "passes": false},
  {"category": "finalization", "description": "Documentation: README", "steps": ["Complete setup instructions in README", "Verify new dev can follow"], "passes": false},
  {"category": "finalization", "description": "Documentation: API docs", "steps": ["OpenAPI spec complete", "All endpoints documented"], "passes": false},
  {"category": "finalization", "description": "Documentation: MCP README", "steps": ["Complete MCP setup documentation"], "passes": false},
  {"category": "finalization", "description": "Documentation: CLI --help", "steps": ["All commands have help text"], "passes": false},
  {"category": "finalization", "description": "Deploy: docker compose up", "steps": ["Verify docker compose up works", "All services healthy"], "passes": false},
  {"category": "finalization", "description": "Deploy: migrations", "steps": ["Verify migrations run cleanly"], "passes": false},
  {"category": "finalization", "description": "Deploy: health checks", "steps": ["All health endpoints pass"], "passes": false},
  {"category": "finalization", "description": "Code quality: file size", "steps": ["Verify all files under 800 lines"], "passes": false},
  {"category": "finalization", "description": "Code quality: test coverage", "steps": ["Verify >= 80% coverage backend and frontend"], "passes": false},
  {"category": "finalization", "description": "Code quality: no TODOs", "steps": ["Verify no TODO comments in code"], "passes": false},
  {"category": "finalization", "description": "Code quality: lint clean", "steps": ["Verify zero lint warnings"], "passes": false},
  {"category": "domain-config", "description": "Human decision: Choose domain and TLD", "steps": ["Decide on domain name (e.g., solvr)", "Decide on TLD (e.g., .dev, .ai, .io)", "Document choice in .env.example comments", "Communicate to codebase via APP_DOMAIN env var"], "passes": false},
  {"category": "domain-config", "description": "Add APP_DOMAIN to config", "steps": ["Add APP_DOMAIN to .env.example", "Add APP_DOMAIN field to config/env.go Config struct", "Parse APP_DOMAIN in Load() function", "Add test for APP_DOMAIN parsing"], "passes": false},
  {"category": "domain-config", "description": "Update CORS with APP_DOMAIN", "steps": ["Read APP_DOMAIN from config", "Build AllowedOrigins dynamically: https://{APP_DOMAIN}, https://www.{APP_DOMAIN}, https://api.{APP_DOMAIN}", "Keep localhost for development mode", "Test CORS with new domain"], "passes": false},
  {"category": "domain-config", "description": "Update OpenAPI spec with domain", "steps": ["Use APP_DOMAIN in servers[].url", "Update all example URLs", "Regenerate spec if needed"], "passes": false},
  {"category": "domain-config", "description": "Update discovery endpoint with domain", "steps": ["Use APP_DOMAIN in /.well-known/ai-agent.json", "Update api.base_url field", "Update mcp.url field"], "passes": false},
  {"category": "domain-config", "description": "DNS and SSL setup guide", "steps": ["Document DNS record requirements in README", "Document SSL certificate setup", "Verify HTTPS redirect works", "Test full domain setup"], "passes": false},

  {"category": "api-auth", "description": "POST /v1/auth/moltbook: endpoint", "steps": ["Create handler for Moltbook auth", "Parse {identity_token} from request body", "Return 400 if token missing"], "passes": false},
  {"category": "api-auth", "description": "Moltbook: verify token with Moltbook API", "steps": ["Call Moltbook verify endpoint", "Parse agent identity from response", "Return 401 INVALID_MOLTBOOK_TOKEN if verification fails", "Return 502 if Moltbook API unavailable"], "passes": false},
  {"category": "api-auth", "description": "Moltbook: create or link agent", "steps": ["Check if agent exists with moltbook_id", "If exists, return existing agent", "If new, create agent with imported data", "Set moltbook_id on agent record"], "passes": false},
  {"category": "api-auth", "description": "Moltbook: import karma as reputation", "steps": ["Read karma from Moltbook response", "Convert to Solvr reputation (1:1 or scaled)", "Set initial reputation on new agent"], "passes": false},
  {"category": "api-auth", "description": "Moltbook: return API key", "steps": ["Generate new API key for agent", "Hash and store key", "Return {agent, api_key} with moltbook_verified: true"], "passes": false},
  {"category": "api-auth", "description": "Moltbook auth unit tests", "steps": ["Create backend/internal/api/handlers/moltbook_test.go", "Test valid token creates agent", "Test invalid token returns 401", "Test existing agent returns same ID"], "passes": false},

  {"category": "database", "description": "Create config migration file", "steps": ["Create backend/migrations/000015_create_config.up.sql", "Create backend/migrations/000015_create_config.down.sql"], "passes": false},
  {"category": "database", "description": "Config table: all fields", "steps": ["Add key VARCHAR(100) PRIMARY KEY", "Add value JSONB NOT NULL", "Add created_at TIMESTAMPTZ DEFAULT NOW()", "Add updated_at TIMESTAMPTZ DEFAULT NOW()"], "passes": false},
  {"category": "database", "description": "Config migration executes successfully", "steps": ["Run migrate up for 000015", "Verify config table exists", "Test insert and query"], "passes": false},

  {"category": "security-audit", "description": "CRITICAL: Verify API keys never stored plaintext", "steps": ["Grep codebase for 'api_key' assignments", "Verify only api_key_hash column exists in DB", "Verify HashAPIKey uses bcrypt cost >= 10", "Verify no API key in any log statement", "Document in SECURITY.md"], "passes": false},
  {"category": "security-audit", "description": "CRITICAL: Verify API keys only returned once", "steps": ["Review POST /v1/agents handler", "Verify api_key only in creation response", "Verify GET /v1/agents/:id never returns key", "Verify PATCH /v1/agents/:id never returns key", "Test with curl and verify response bodies"], "passes": false},
  {"category": "security-audit", "description": "CRITICAL: Verify no secrets in frontend code", "steps": ["Grep frontend/ for 'api_key', 'secret', 'password'", "Verify no hardcoded tokens in .tsx/.ts files", "Verify .env is in .gitignore", "Verify NEXT_PUBLIC_ vars contain no secrets", "Run npm run build and check bundle for secrets"], "passes": false},
  {"category": "security-audit", "description": "CRITICAL: Verify all DB queries require auth", "steps": ["Review all handlers in internal/api/handlers/", "Verify each uses RequireAuth or RequireAdmin middleware", "Verify no public endpoints return sensitive data", "Exception: GET /health, GET /v1/search (public read)"], "passes": false},
  {"category": "security-audit", "description": "CRITICAL: Verify database connection is not exposed", "steps": ["Verify DATABASE_URL not in frontend code", "Verify no direct DB access from client", "Verify all data access goes through API", "Verify connection pool is internal only"], "passes": false},
  {"category": "security-audit", "description": "Verify bcrypt cost factor", "steps": ["Check HashAPIKey uses cost >= 10", "Check password hashing uses cost >= 10", "Document in SECURITY.md"], "passes": false},
  {"category": "security-audit", "description": "Verify JWT secret strength", "steps": ["Check JWT_SECRET minimum length (32+ chars)", "Fail startup if JWT_SECRET too short", "Add validation in config/env.go"], "passes": false},
  {"category": "security-audit", "description": "Verify error messages don't leak info", "steps": ["Review all error responses", "Verify no stack traces in production", "Verify no SQL errors exposed to client", "Verify no internal IDs leaked"], "passes": false},
  {"category": "security-audit", "description": "Verify rate limiting prevents enumeration", "steps": ["Test login endpoint rate limit", "Test agent registration rate limit", "Test search doesn't allow user enumeration", "Verify timing-safe comparisons for auth"], "passes": false},
  {"category": "security-audit", "description": "Verify soft deletes don't expose data", "steps": ["Verify deleted_at posts not returned in search", "Verify deleted_at posts return 404", "Verify deleted user data not accessible"], "passes": false},
  {"category": "security-audit", "description": "Create SECURITY.md documentation", "steps": ["Document security architecture", "Document API key lifecycle", "Document authentication flows", "Document rate limits and guardrails", "Document incident response process"], "passes": false},
  {"category": "security-audit", "description": "Dependency security scan", "steps": ["Run go mod tidy and check for vulnerabilities", "Run npm audit in frontend/", "Fix any high/critical vulnerabilities", "Add security scan to CI pipeline"], "passes": false},

  {"category": "analytics", "description": "Add Plausible analytics script", "steps": ["Add Plausible script tag to frontend/src/app/layout.tsx", "Set data-domain from config", "Verify no PII sent to Plausible"], "passes": false},
  {"category": "analytics", "description": "Track search events", "steps": ["Fire Search event on search submit", "Include query length (not query content)", "Include results count"], "passes": false},
  {"category": "analytics", "description": "Track post creation events", "steps": ["Fire PostCreated event", "Include type (problem/question/idea)", "Include author_type (human/agent)"], "passes": false},

  {"category": "finalization", "description": "Security: penetration test login flow", "steps": ["Test OAuth CSRF protection", "Test token refresh security", "Test logout invalidates tokens", "Test rate limit bypass attempts"], "passes": false},
  {"category": "finalization", "description": "Security: penetration test API key flow", "steps": ["Test API key cannot be retrieved after creation", "Test revoked key returns 401", "Test key rotation works correctly", "Test key enumeration not possible"], "passes": false},
  {"category": "finalization", "description": "Security: penetration test data access", "steps": ["Test cannot access other users' data", "Test cannot access other agents' data", "Test admin endpoints require admin role", "Test deleted data not accessible"], "passes": false},
  {"category": "finalization", "description": "Security: verify no Moltbook-style vulnerabilities", "steps": ["Verify no API keys in any GET response", "Verify no database URLs exposed", "Verify no publishable keys give data access", "Document findings in security report"], "passes": false},
  {"category": "infrastructure", "description": "Install Husky for git hooks", "steps": ["Run npm install -D husky in frontend/", "Run npx husky init", "Verify .husky/ directory created"], "passes": false},
{"category": "infrastructure", "description": "Configure lint-staged for frontend", "steps": ["Run npm install -D lint-staged", "Add lint-staged config to package.json", "Run eslint --fix and prettier --write on staged files"], "passes": false},
{"category": "infrastructure", "description": "Add pre-commit hook", "steps": ["Create .husky/pre-commit script", "Run lint-staged on commit", "Test by staging file with errors", "Verify commit blocked"], "passes": false},
{"category": "infrastructure", "description": "Add file size check to CI", "steps": ["Create scripts/check-file-size.sh", "Find .go/.ts/.tsx files over 800 lines", "Exit 1 if any found", "Add step to CI workflow"], "passes": false}
]
