[
  {
    "id": "FIX-001",
    "category": "FIX-CRITICAL",
    "description": "Remove routes.go placeholders that override router.go",
    "problem": "routes.go is called AFTER router.go in main.go and adds placeholder endpoints that override real handlers",
    "evidence": "GET /v1/posts returns 'coming soon' placeholder instead of real data",
    "steps": [
      "In cmd/api/main.go, remove call to api.MountAPIRoutes() on line 57",
      "Move /v1/search handler from routes.go into router.go mountV1Routes()",
      "Delete routes.go entirely OR keep only as reference",
      "Test: GET /v1/posts returns real data (empty array), not placeholder",
      "Test: GET /v1/agents/{id} returns real agent data, not placeholder"
    ],
    "passes": true
  },
  {
    "id": "FIX-002",
    "category": "FIX-CRITICAL",
    "description": "Add API key auth middleware to /v1/agents/me/claim",
    "passes": true
  },
  {
    "id": "FIX-003",
    "category": "FIX-CRITICAL",
    "description": "Use CombinedAuthMiddleware for protected posts routes",
    "passes": true
  },
  {
    "id": "FIX-004",
    "category": "FIX-CRITICAL",
    "description": "Wire /v1/feed endpoint",
    "passes": true
  },
  {
    "id": "FIX-005",
    "category": "FIX-CRITICAL",
    "description": "Wire /v1/me endpoint",
    "passes": true
  },
  {
    "id": "FIX-006",
    "category": "FIX-CRITICAL",
    "description": "Wire real /v1/agents/{id} handler",
    "passes": true
  },
  {
    "id": "FIX-007",
    "category": "FIX-CRITICAL",
    "description": "Fix GET /v1/posts/{id} 500 error",
    "passes": true
  },
  {
    "id": "FIX-008",
    "category": "FIX-CRITICAL",
    "description": "Ensure DB pool is properly initialized in production",
    "passes": true
  },
  {
    "id": "FIX-009",
    "category": "FIX-IMPORTANT",
    "description": "Move search handler from routes.go to router.go",
    "passes": true
  },
  {
    "id": "FIX-010",
    "category": "FIX-CRITICAL",
    "description": "Add error details to request logs",
    "passes": true
  },
  {
    "id": "FIX-011",
    "category": "FIX-CRITICAL",
    "description": "Log actual errors in handlers before returning 500",
    "passes": true
  },
  {
    "id": "FIX-012",
    "category": "FIX-IMPORTANT",
    "description": "Add request body logging for failed POST/PATCH requests",
    "passes": true
  },
  {
    "id": "FIX-013",
    "category": "FIX-IMPORTANT",
    "description": "Add DB query error logging",
    "passes": true
  },
  {
    "id": "FIX-014",
    "category": "FIX-IMPORTANT",
    "description": "Add startup logging for configuration",
    "passes": true
  },
  {
    "id": "FIX-015",
    "category": "FIX-CRITICAL",
    "description": "Wire POST /v1/questions/:id/answers with auth",
    "passes": true
  },
  {
    "id": "FIX-016",
    "category": "FIX-CRITICAL",
    "description": "Wire POST /v1/problems/:id/approaches with auth",
    "passes": true
  },
  {
    "id": "FIX-017",
    "category": "FIX-CRITICAL",
    "description": "Wire POST /v1/ideas/:id/responses with auth",
    "passes": true
  },
  {
    "id": "FIX-018",
    "category": "FIX-CRITICAL",
    "description": "Wire GET/PATCH /v1/notifications with auth",
    "passes": true
  },
  {
    "id": "FIX-019",
    "category": "FIX-CRITICAL",
    "description": "Wire POST /v1/posts/:id/comments endpoint",
    "passes": true
  },
  {
    "id": "FIX-020",
    "category": "FIX-IMPORTANT",
    "description": "Fix GET /v1/problems, /v1/questions, /v1/ideas returning empty",
    "passes": true
  },
  {
    "id": "FIX-021",
    "category": "FIX-IMPORTANT",
    "description": "Wire GET /v1/problems/:id/approaches (list approaches)",
    "passes": true
  },
  {
    "id": "FIX-022",
    "category": "FIX-IMPORTANT",
    "description": "Wire GET /v1/questions/:id/answers (list answers)",
    "passes": true
  },
  {
    "id": "FIX-023",
    "category": "FIX-CRITICAL",
    "description": "Fix answers/approaches/responses endpoints - query posts table not separate tables",
    "passes": true
  },
  {
    "id": "FIX-024",
    "category": "FIX-CRITICAL",
    "description": "Wire GET /v1/ideas/:id/responses - returns 405",
    "passes": true
  },
  {
    "id": "FIX-025",
    "category": "FIX-CRITICAL",
    "description": "Fix POST /v1/posts/:id/comments - 401 even with valid auth",
    "passes": true
  },
  {
    "id": "FIX-026",
    "category": "FIX-IMPORTANT",
    "description": "Return proper error for non-existent agent (NOT_FOUND not INTERNAL_ERROR)",
    "passes": true
  },
  {
    "id": "FIX-027",
    "category": "FIX-IMPORTANT",
    "description": "Return proper error for duplicate agent name (CONFLICT not INTERNAL_ERROR)",
    "passes": true
  },
  {
    "id": "FIX-028",
    "category": "FIX-IMPORTANT",
    "description": "Add request body size limit",
    "passes": true
  },
  {
    "id": "FIX-029",
    "category": "FIX-IMPORTANT",
    "description": "Validate pagination parameters",
    "passes": true
  },
  {
    "id": "FE-001",
    "category": "FE-CRITICAL",
    "description": "Wire question detail page to fetch real data from API",
    "problem": "Question detail page uses hardcoded mock data instead of API",
    "evidence": "frontend/components/questions/detail/answers-list.tsx has const answers = [...] with fake data",
    "files": [
      "frontend/components/questions/detail/question-header.tsx",
      "frontend/components/questions/detail/question-content.tsx",
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/hooks/use-question.ts (create)"
    ],
    "steps": [
      "Create useQuestion(id) hook in frontend/hooks/use-question.ts",
      "Fetch GET /v1/posts/{id} for question data",
      "Fetch GET /v1/questions/{id}/answers for answers list",
      "Update QuestionHeader to use real data from hook",
      "Update QuestionContent to use real description/tags",
      "Update AnswersList to map real answers instead of hardcoded array",
      "Handle loading and error states",
      "Test: Question page shows real data from API"
    ],
    "passes": true
  },
  {
    "id": "FE-002",
    "category": "FE-CRITICAL",
    "description": "Wire problem detail page to fetch real data from API",
    "problem": "Problem detail page uses hardcoded mock data instead of API",
    "evidence": "frontend/components/problems/detail/approaches-list.tsx likely has hardcoded data",
    "files": [
      "frontend/components/problems/detail/problem-header.tsx",
      "frontend/components/problems/detail/problem-description.tsx",
      "frontend/components/problems/detail/approaches-list.tsx",
      "frontend/hooks/use-problem.ts (create)"
    ],
    "steps": [
      "Create useProblem(id) hook in frontend/hooks/use-problem.ts",
      "Fetch GET /v1/posts/{id} for problem data",
      "Fetch GET /v1/problems/{id}/approaches for approaches list",
      "Update ProblemHeader to use real data",
      "Update ProblemDescription to use real content",
      "Update ApproachesList to map real approaches",
      "Handle loading and error states",
      "Test: Problem page shows real data from API"
    ],
    "passes": true
  },
  {
    "id": "FE-003",
    "category": "FE-CRITICAL",
    "description": "Wire idea detail page to fetch real data from API",
    "problem": "Idea detail page uses hardcoded mock data instead of API",
    "files": [
      "frontend/app/ideas/[id]/page.tsx",
      "frontend/components/ideas/* (check for detail components)",
      "frontend/hooks/use-idea.ts (create)"
    ],
    "steps": [
      "Create useIdea(id) hook in frontend/hooks/use-idea.ts",
      "Fetch GET /v1/posts/{id} for idea data",
      "Fetch GET /v1/ideas/{id}/responses for responses list",
      "Update idea detail components to use real data",
      "Handle loading and error states",
      "Test: Idea page shows real data from API"
    ],
    "passes": true
  },
  {
    "id": "FE-004",
    "category": "FE-CRITICAL",
    "description": "Implement voting functionality in feed and detail pages",
    "problem": "Vote buttons exist but onClick just prevents default - no API call",
    "evidence": "feed-list.tsx line 170: onClick={(e) => e.preventDefault()}",
    "files": [
      "frontend/components/feed/feed-list.tsx",
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/lib/api.ts",
      "frontend/hooks/use-vote.ts (create)"
    ],
    "steps": [
      "Add voteOnPost(id, direction) method to frontend/lib/api.ts",
      "Call POST /v1/posts/{id}/vote with {direction: 'up'|'down'}",
      "Create useVote() hook for optimistic updates",
      "Update feed-list.tsx vote button to call API",
      "Update answers-list.tsx ThumbsUp/ThumbsDown to call API",
      "Show visual feedback (button highlight, score change)",
      "Handle auth required error (prompt login)",
      "Test: Clicking vote updates score via API"
    ],
    "passes": true
  },
  {
    "id": "FE-005",
    "category": "FE-CRITICAL",
    "description": "Implement post answer form submission",
    "problem": "Answer textarea and POST ANSWER button exist but don't submit",
    "evidence": "answers-list.tsx has textarea and Button but no onSubmit handler",
    "files": [
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Add createAnswer(questionId, content) method to api.ts",
      "Call POST /v1/questions/{id}/answers",
      "Add form state (content, submitting, error)",
      "Handle submit: call API, clear form, refresh answers list",
      "Show loading state on button during submit",
      "Handle auth required error (prompt login)",
      "Test: Posting answer adds it to the list"
    ],
    "passes": true
  },
  {
    "id": "FE-006",
    "category": "FE-CRITICAL",
    "description": "Implement post approach form for problems",
    "problem": "Problem detail page needs form to submit new approaches",
    "files": [
      "frontend/components/problems/detail/approaches-list.tsx",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Add createApproach(problemId, content) method to api.ts",
      "Call POST /v1/problems/{id}/approaches",
      "Add approach submission form to ApproachesList",
      "Handle submit: call API, refresh approaches list",
      "Show loading state during submit",
      "Handle auth required error",
      "Test: Posting approach adds it to the list"
    ],
    "passes": true
  },
  {
    "id": "FE-007",
    "category": "FE-CRITICAL",
    "description": "Implement post response form for ideas",
    "problem": "Idea detail page needs form to submit new responses",
    "files": [
      "frontend/components/ideas/* (responses component)",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Add createResponse(ideaId, content) method to api.ts",
      "Call POST /v1/ideas/{id}/responses",
      "Add response submission form to idea detail page",
      "Handle submit: call API, refresh responses list",
      "Show loading state during submit",
      "Handle auth required error",
      "Test: Posting response adds it to the list"
    ],
    "passes": true
  },
  {
    "id": "FE-008",
    "category": "FE-IMPORTANT",
    "description": "Implement comments on answers/approaches/responses",
    "problem": "Comment input exists but doesn't submit",
    "evidence": "answers-list.tsx has comment input but no submit handler",
    "files": [
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Add createComment(targetType, targetId, content) method to api.ts",
      "Call POST /v1/{target_type}/{id}/comments",
      "Add submit handler to comment input (on Enter or button)",
      "Refresh comments list after submit",
      "Handle auth required error",
      "Test: Posting comment adds it inline"
    ],
    "passes": false
  },
  {
    "id": "FE-009",
    "category": "FE-IMPORTANT",
    "description": "Implement accept answer functionality",
    "problem": "Accepted answer badge shown but no way to mark answer as accepted",
    "evidence": "answers-list.tsx shows isAccepted but no accept button for author",
    "files": [
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Add acceptAnswer(questionId, answerId) method to api.ts",
      "Call POST /v1/questions/{id}/accept/{aid}",
      "Show 'Accept' button only to question author",
      "On click: call API, update UI to show accepted state",
      "Only one answer can be accepted (unaccept previous if needed)",
      "Test: Question author can accept an answer"
    ],
    "passes": false
  },
  {
    "id": "FE-010",
    "category": "FE-IMPORTANT",
    "description": "Wire feed filters to API parameters",
    "problem": "Status, sort, and timeframe filters exist but don't affect API calls",
    "evidence": "feed-filters.tsx has filters but usePosts doesn't use them",
    "files": [
      "frontend/components/feed/feed-filters.tsx",
      "frontend/components/feed/feed-list.tsx",
      "frontend/hooks/use-posts.ts",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Pass status filter to usePosts params",
      "Pass sort filter (new/hot/top) to API",
      "Implement timeframe filter (today/week/month/all)",
      "Update api.getPosts to include these params",
      "Refetch when filters change",
      "Test: Changing filter updates results"
    ],
    "passes": false
  },
  {
    "id": "FE-011",
    "category": "FE-NICE",
    "description": "Implement bookmark functionality",
    "problem": "Bookmark button exists but does nothing",
    "evidence": "feed-list.tsx has Bookmark icon button with onClick stopPropagation only",
    "files": [
      "frontend/components/feed/feed-list.tsx",
      "frontend/lib/api.ts",
      "frontend/hooks/use-bookmarks.ts (create)"
    ],
    "steps": [
      "Check if API has bookmark endpoints (may need backend work first)",
      "If not: create FE-011-BE task for POST /v1/users/me/bookmarks",
      "Add toggleBookmark(postId) method to api.ts",
      "Track bookmarked state locally (or fetch from API)",
      "Toggle bookmark icon fill on click",
      "Test: Bookmarking persists across page loads"
    ],
    "passes": false,
    "depends_on": "May need backend endpoint first"
  },
  {
    "id": "FE-012",
    "category": "FE-NICE",
    "description": "Implement share functionality",
    "problem": "Share button exists but does nothing",
    "evidence": "feed-list.tsx has Share2 icon button",
    "files": [
      "frontend/components/feed/feed-list.tsx"
    ],
    "steps": [
      "On click: copy post URL to clipboard",
      "Or use Web Share API if available (navigator.share)",
      "Show toast/feedback confirming share/copy",
      "Test: Clicking share copies URL"
    ],
    "passes": false
  },
  {
    "id": "FE-013",
    "category": "FE-NICE",
    "description": "Add view tracking for posts",
    "problem": "Views always shows 0 - no view tracking implemented",
    "evidence": "feed-list.tsx shows post.views but transformPost sets views: 0",
    "files": [
      "frontend/hooks/use-posts.ts",
      "frontend/lib/api.ts",
      "backend: may need POST /v1/posts/{id}/view endpoint"
    ],
    "steps": [
      "Check if API returns view_count in post response",
      "If yes: map it in transformPost instead of hardcoded 0",
      "If no: create backend task to add view tracking",
      "Optionally: track view when opening detail page",
      "Test: Posts show real view counts"
    ],
    "passes": false,
    "depends_on": "May need backend endpoint"
  },
  {
    "id": "FE-014",
    "category": "FE-IMPORTANT",
    "description": "Implement authentication state and login flow",
    "problem": "No auth state management - can't show user info or protect actions",
    "files": [
      "frontend/lib/auth.ts (create)",
      "frontend/hooks/use-auth.ts (create)",
      "frontend/components/header.tsx",
      "frontend/app/login/page.tsx"
    ],
    "steps": [
      "Create auth context/hook to manage JWT token",
      "Store token in localStorage or httpOnly cookie",
      "Add getMe() call on app load to fetch user info",
      "Update Header to show user info when logged in",
      "Add logout functionality",
      "Redirect to login when auth-required action fails",
      "Test: Login persists across page loads"
    ],
    "passes": false
  },
  {
    "id": "FE-015",
    "category": "FE-IMPORTANT",
    "description": "Handle loading and error states consistently",
    "problem": "Some pages may crash or show blank on API errors",
    "files": [
      "frontend/app/questions/[id]/page.tsx",
      "frontend/app/problems/[id]/page.tsx",
      "frontend/app/ideas/[id]/page.tsx"
    ],
    "steps": [
      "Add loading skeleton/spinner for detail pages",
      "Add error boundary or error state for failed fetches",
      "Show 'Not Found' for 404 responses",
      "Show 'Server Error' for 500 responses with retry option",
      "Test: Page handles API timeout gracefully"
    ],
    "passes": false
  },
  {
    "id": "FE-016",
    "category": "FE-NICE",
    "description": "Add real-time updates via polling or WebSocket",
    "problem": "Feed doesn't update unless manually refreshed",
    "files": [
      "frontend/hooks/use-posts.ts",
      "frontend/components/feed/feed-list.tsx"
    ],
    "steps": [
      "Option A: Add polling interval (e.g., every 30s)",
      "Option B: Add WebSocket connection for push updates",
      "Show 'New posts available' banner instead of auto-refresh",
      "Add visual indicator when new posts arrive",
      "Test: New posts appear without manual refresh"
    ],
    "passes": false
  },
  {
    "id": "FE-017",
    "category": "FE-CRITICAL",
    "description": "Create post submission forms (new problem/question/idea)",
    "problem": "No way to create new posts from the frontend",
    "files": [
      "frontend/app/new/page.tsx (create)",
      "frontend/components/new-post-form.tsx (create)",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Create /new page with post type selector",
      "Add form fields: title, description, tags, type",
      "Add createPost() method to api.ts calling POST /v1/posts",
      "Handle validation (required fields, length limits)",
      "Redirect to new post after successful creation",
      "Handle auth required error",
      "Test: Can create new question/problem/idea from UI"
    ],
    "passes": false
  },
  {
    "id": "FE-018",
    "category": "FE-IMPORTANT",
    "description": "Add flag/report functionality",
    "problem": "Flag button exists on answers but does nothing",
    "evidence": "answers-list.tsx has Flag button",
    "files": [
      "frontend/components/questions/detail/answers-list.tsx",
      "frontend/lib/api.ts"
    ],
    "steps": [
      "Check if API has report endpoint",
      "If not: skip or create backend task",
      "On flag click: show reason selector modal",
      "Submit report to API",
      "Show confirmation feedback",
      "Test: Can report inappropriate content"
    ],
    "passes": false,
    "depends_on": "May need backend endpoint"
  }
]